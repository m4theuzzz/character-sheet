<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../fonts/Poppins.css">
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/global.css">
    <link rel="stylesheet" href="../css/homeScreen.css">
    <link rel="stylesheet" href="../css/characterSheet.css">
    <link rel="stylesheet" href="../css/spellSheet.css">
    <link rel="stylesheet" href="../css/detailsSheet.css">
    <link rel="stylesheet" href="../css/diary.css">
    <title>Character Sheet</title>
</head>

<body>
    <div id="app" v-cloak>
        <transition-group :duration="300" name="page" mode="out-in" appear>
            <div id="login" v-if="showLogin" :key="0" class="appPage">
                <div id="homeScreenCharacterList" class="addNewCharacterHolder">
                    <input id="username" type="text" v-model="name" placeholder="Username">
                    <input type="password" id="password" v-model="pass" placeholder="Password">
                    <button type="button" class="addCharacter input-group-text" @click="logIn(name, pass)">
                        Login
                    </button>
                </div>
            </div>

            <div id="homePage" v-if="showHomePage" :key="1" class="appPage">
                <button id="logout" class="block" onclick="logOut()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor"
                        class="bi bi-chevron-bar-right" viewBox="-4 -1 22 22">
                        <path fill-rule="evenodd"
                            d="M4.146 3.646a.5.5 0 0 0 0 .708L7.793 8l-3.647 3.646a.5.5 0 0 0 .708.708l4-4a.5.5 0 0 0 0-.708l-4-4a.5.5 0 0 0-.708 0zM11.5 1a.5.5 0 0 1 .5.5v13a.5.5 0 0 1-1 0v-13a.5.5 0 0 1 .5-.5z" />
                    </svg>
                </button>

                <h1>Character Sheet</h1>
                <div class="block addNewCharacterHolder" class="input-group">
                    <input type="text" placeholder="Novo Personagem" id="newCharacterName"
                        aria-describedby="addCharacter">
                    <button id="addCharacter" class="addCharacter input-group-text" onclick="addNewCharacter()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                            class="bi bi-box-arrow-in-right" viewBox="0 0 16 16">
                            <path fill-rule="evenodd"
                                d="M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0v-2z" />
                            <path fill-rule="evenodd"
                                d="M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z" />
                        </svg>
                    </button>
                </div>
                <div id="homeScreenCharacterList" v-if="charactersList.length > 0" class="block">
                    <div v-for="character in charactersList" class="listedCharacterHolder btn-group" role="group">
                        <button type="button" class="btn listedCharacter"
                            @click="loadCharacterSheet(character.characterId)">
                            {{ character.name }}
                        </button>
                        <button type="button" class="btn btn-danger deleteCharacter"
                            @click="handleModalExhibition('Matar Personagem', true, character)">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                                class="bi bi-x-octagon" viewBox="0 0 16 16">
                                <path
                                    d="M4.54.146A.5.5 0 0 1 4.893 0h6.214a.5.5 0 0 1 .353.146l4.394 4.394a.5.5 0 0 1 .146.353v6.214a.5.5 0 0 1-.146.353l-4.394 4.394a.5.5 0 0 1-.353.146H4.893a.5.5 0 0 1-.353-.146L.146 11.46A.5.5 0 0 1 0 11.107V4.893a.5.5 0 0 1 .146-.353L4.54.146zM5.1 1 1 5.1v5.8L5.1 15h5.8l4.1-4.1V5.1L10.9 1H5.1z" />
                                <path
                                    d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z" />
                            </svg>
                        </button>
                    </div>
                </div>
            </div>

            <div id="characterSheet" v-if="showCharacterSheet" :key="2" class="appPage">
                <div id="header" class="block">
                    <button id="backToHomePage" class="block" data-bs-toggle="offcanvas" data-bs-target="#offcanvas">
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor"
                            class="bi bi-chevron-bar-right" viewBox="-4 -1 22 22">
                            <path fill-rule="evenodd"
                                d="M4.146 3.646a.5.5 0 0 0 0 .708L7.793 8l-3.647 3.646a.5.5 0 0 0 .708.708l4-4a.5.5 0 0 0 0-.708l-4-4a.5.5 0 0 0-.708 0zM11.5 1a.5.5 0 0 1 .5.5v13a.5.5 0 0 1-1 0v-13a.5.5 0 0 1 .5-.5z" />
                        </svg>
                    </button>

                    <input id="characterName" class="block" type="text" v-model="selectedCharacter.name"
                        data-bs-toggle="tooltip" data-bs-placement="bottom" title="Nome do Personagem">

                    <div class="characterInfo block">
                        <div>
                            <div id="classes" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Classes">
                                <button type="button" class="btn btn-secondary block primaryButton"
                                    @click="handleModalExhibition('Classes')">
                                    {{ selectedCharacter.classes[0]?.name ?? 'Classes' }}{{
                                    selectedCharacter.classes[0]?.value ? ', ' + selectedCharacter.classes[0].value :
                                    ''}}
                                </button>
                            </div>
                            <div id="race" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Raça">
                                <input type="text" placeholder="Raça" v-model="selectedCharacter.race">
                            </div>
                        </div>
                        <div>
                            <div id="background" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Passado">
                                <input type="text" placeholder="Passado" v-model="selectedCharacter.background">
                            </div>
                            <div id="alignment" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Alinhamento">
                                <input type="text" placeholder="Alinhamento" v-model="selectedCharacter.alignment">
                            </div>
                        </div>
                    </div>
                </div>

                <div id="score" class="block">
                    <transition-group name="habilityScoresTransition" appear>
                        <div id="proficiencyBonus" class="block scoreComplement" :key="0" v-if="showHabilityScores[0]">
                            Bônus de Proficiência:
                            {{ proficiencyBonus }}
                        </div>
                        <div id="inspiration" class="block scoreComplement" :key="1" v-if="showHabilityScores[1]">
                            Inspirações: <input id="inspirationInput" type="number"
                                v-model="selectedCharacter.inspirationPoints">
                        </div>
                        <div id="strength" class="block hability" :key="2" v-if="showHabilityScores[2]">
                            <b>Força</b>
                            <div class="habilityScore">
                                <div class="mainHability">
                                    <input type="text" v-model="selectedCharacter.strength">
                                    <div class="baseModidier">{{ selectedCharacter.baseModifiers.strength }}</div>
                                </div>
                                <div class="skills block">
                                    <div v-for="skill in selectedCharacter.skillScores.strength" class="habilitySkill">
                                        <button class="skillProficiency"
                                            @click="updateProficiencyArrays(skill.name, 'strength')">
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'none'"
                                                width="20" height="16" fill="currentColor" class="bi bi-record"
                                                viewBox="0 0 16 16">
                                                <path
                                                    d="M8 12a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0 1A5 5 0 1 0 8 3a5 5 0 0 0 0 10z" />
                                            </svg>
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'half'"
                                                width="20" height="16" fill="currentColor" class="bi bi-circle-half"
                                                viewBox="-5 -5 25 25">
                                                <path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z" />
                                            </svg>
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'full'"
                                                width="20" height="16" fill="currentColor" class="bi bi-circle-fill"
                                                viewBox="-5 -5 25 25">
                                                <circle cx="8" cy="8" r="8" />
                                            </svg>
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'double'"
                                                width="20" height="16" fill="currentColor" class="bi bi-record2-fill"
                                                viewBox="0 0 16 16">
                                                <path d="M10 8a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" />
                                                <path
                                                    d="M8 13A5 5 0 1 0 8 3a5 5 0 0 0 0 10zm0-2a3 3 0 1 1 0-6 3 3 0 0 1 0 6z" />
                                            </svg>
                                        </button>
                                        <div class="skillModifier"> {{ skill.modifier }} </div>
                                        <div class="skillName">{{ translate(skill.name) }}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="dexterity" class="block hability" :key="3" v-if="showHabilityScores[3]">
                            <b>Destreza</b>
                            <div class="habilityScore">
                                <div class="mainHability">
                                    <input type="text" v-model="selectedCharacter.dexterity">
                                    <div class="baseModidier">{{ selectedCharacter.baseModifiers.dexterity }}</div>
                                </div>
                                <div class="skills block">
                                    <div v-for="skill in selectedCharacter.skillScores.dexterity" class="habilitySkill">
                                        <button class="skillProficiency"
                                            @click="updateProficiencyArrays(skill.name, 'dexterity')">
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'none'"
                                                width="20" height="16" fill="currentColor" class="bi bi-record"
                                                viewBox="0 0 16 16">
                                                <path
                                                    d="M8 12a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0 1A5 5 0 1 0 8 3a5 5 0 0 0 0 10z" />
                                            </svg>
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'half'"
                                                width="20" height="16" fill="currentColor" class="bi bi-circle-half"
                                                viewBox="-5 -5 25 25">
                                                <path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z" />
                                            </svg>
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'full'"
                                                width="20" height="16" fill="currentColor" class="bi bi-circle-fill"
                                                viewBox="-5 -5 25 25">
                                                <circle cx="8" cy="8" r="8" />
                                            </svg>
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'double'"
                                                width="20" height="16" fill="currentColor" class="bi bi-record2-fill"
                                                viewBox="0 0 16 16">
                                                <path d="M10 8a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" />
                                                <path
                                                    d="M8 13A5 5 0 1 0 8 3a5 5 0 0 0 0 10zm0-2a3 3 0 1 1 0-6 3 3 0 0 1 0 6z" />
                                            </svg>
                                        </button>
                                        <div class="skillModifier"> {{ skill.modifier }} </div>
                                        <div class="skillName">{{ translate(skill.name) }}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="constitution" class="block hability" :key="4" v-if="showHabilityScores[4]">
                            <b>Constituição</b>
                            <div class="habilityScore">
                                <div class="mainHability">
                                    <input type="text" v-model="selectedCharacter.constitution">
                                    <div class="baseModidier">{{ selectedCharacter.baseModifiers.constitution }}</div>
                                </div>
                            </div>
                        </div>
                        <div id="inteligence" class="block hability" :key="5" v-if="showHabilityScores[5]">
                            <b>Inteligência</b>
                            <div class="habilityScore">
                                <div class="mainHability">
                                    <input type="text" v-model="selectedCharacter.inteligence">
                                    <div class="baseModidier">{{ selectedCharacter.baseModifiers.inteligence }}</div>
                                </div>
                                <div class="skills block">
                                    <div v-for="skill in selectedCharacter.skillScores.inteligence"
                                        class="habilitySkill">
                                        <button class="skillProficiency"
                                            @click="updateProficiencyArrays(skill.name, 'inteligence')">
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'none'"
                                                width="20" height="16" fill="currentColor" class="bi bi-record"
                                                viewBox="0 0 16 16">
                                                <path
                                                    d="M8 12a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0 1A5 5 0 1 0 8 3a5 5 0 0 0 0 10z" />
                                            </svg>
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'half'"
                                                width="20" height="16" fill="currentColor" class="bi bi-circle-half"
                                                viewBox="-5 -5 25 25">
                                                <path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z" />
                                            </svg>
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'full'"
                                                width="20" height="16" fill="currentColor" class="bi bi-circle-fill"
                                                viewBox="-5 -5 25 25">
                                                <circle cx="8" cy="8" r="8" />
                                            </svg>
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'double'"
                                                width="20" height="16" fill="currentColor" class="bi bi-record2-fill"
                                                viewBox="0 0 16 16">
                                                <path d="M10 8a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" />
                                                <path
                                                    d="M8 13A5 5 0 1 0 8 3a5 5 0 0 0 0 10zm0-2a3 3 0 1 1 0-6 3 3 0 0 1 0 6z" />
                                            </svg>
                                        </button>
                                        <div class="skillModifier"> {{ skill.modifier }} </div>
                                        <div class="skillName">{{ translate(skill.name) }}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="wisdom" class="block hability" :key="6" v-if="showHabilityScores[6]">
                            <b>Sabedoria</b>
                            <div class="habilityScore">
                                <div class="mainHability">
                                    <input type="text" v-model="selectedCharacter.wisdom">
                                    <div class="baseModidier">{{ selectedCharacter.baseModifiers.wisdom }}</div>
                                </div>
                                <div class="skills block">
                                    <div v-for="skill in selectedCharacter.skillScores.wisdom" class="habilitySkill">
                                        <button class="skillProficiency"
                                            @click="updateProficiencyArrays(skill.name, 'wisdom')">
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'none'"
                                                width="20" height="16" fill="currentColor" class="bi bi-record"
                                                viewBox="0 0 16 16">
                                                <path
                                                    d="M8 12a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0 1A5 5 0 1 0 8 3a5 5 0 0 0 0 10z" />
                                            </svg>
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'half'"
                                                width="20" height="16" fill="currentColor" class="bi bi-circle-half"
                                                viewBox="-5 -5 25 25">
                                                <path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z" />
                                            </svg>
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'full'"
                                                width="20" height="16" fill="currentColor" class="bi bi-circle-fill"
                                                viewBox="-5 -5 25 25">
                                                <circle cx="8" cy="8" r="8" />
                                            </svg>
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'double'"
                                                width="20" height="16" fill="currentColor" class="bi bi-record2-fill"
                                                viewBox="0 0 16 16">
                                                <path d="M10 8a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" />
                                                <path
                                                    d="M8 13A5 5 0 1 0 8 3a5 5 0 0 0 0 10zm0-2a3 3 0 1 1 0-6 3 3 0 0 1 0 6z" />
                                            </svg>
                                        </button>
                                        <div class="skillModifier"> {{ skill.modifier }} </div>
                                        <div class="skillName">{{ translate(skill.name) }}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="charisma" class="block hability" :key="7" v-if="showHabilityScores[7]">
                            <b>Carisma</b>
                            <div class="habilityScore">
                                <div class="mainHability">
                                    <input type="text" v-model="selectedCharacter.charisma">
                                    <div class="baseModidier">{{ selectedCharacter.baseModifiers.charisma }}</div>
                                </div>
                                <div class="skills block">
                                    <div v-for="skill in selectedCharacter.skillScores.charisma" class="habilitySkill">
                                        <button class="skillProficiency"
                                            @click="updateProficiencyArrays(skill.name, 'charisma')">
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'none'"
                                                width="20" height="16" fill="currentColor" class="bi bi-record"
                                                viewBox="0 0 16 16">
                                                <path
                                                    d="M8 12a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0 1A5 5 0 1 0 8 3a5 5 0 0 0 0 10z" />
                                            </svg>
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'half'"
                                                width="20" height="16" fill="currentColor" class="bi bi-circle-half"
                                                viewBox="-5 -5 25 25">
                                                <path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z" />
                                            </svg>
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'full'"
                                                width="20" height="16" fill="currentColor" class="bi bi-circle-fill"
                                                viewBox="-5 -5 25 25">
                                                <circle cx="8" cy="8" r="8" />
                                            </svg>
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'double'"
                                                width="20" height="16" fill="currentColor" class="bi bi-record2-fill"
                                                viewBox="0 0 16 16">
                                                <path d="M10 8a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" />
                                                <path
                                                    d="M8 13A5 5 0 1 0 8 3a5 5 0 0 0 0 10zm0-2a3 3 0 1 1 0-6 3 3 0 0 1 0 6z" />
                                            </svg>
                                        </button>
                                        <div class="skillModifier"> {{ skill.modifier }} </div>
                                        <div class="skillName">{{ translate(skill.name) }}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="passiveWisdom" class="block scoreComplement" :key="8" v-if="showHabilityScores[8]">
                            Percepção Passiva: <div id="passiveWisdomInput">{{ passiveWisdom }}</div>
                        </div>
                    </transition-group>
                </div>

                <div id="combat" class="block">
                    <div class="firstRow">
                        <div id="armorClass" class="block" data-bs-toggle="tooltip" title="Classe de Armadura">
                            <input type="text" v-model="selectedCharacter.armorClass">
                        </div>
                        <div id="initiative" class="block" data-bs-toggle="tooltip" title="Iniciativa">
                            <input type="text" v-model="selectedCharacter.initiative">
                        </div>
                        <div id="speeds" class="block" data-bs-toggle="tooltip" title="Movimentações">
                            <button type="button" class="btn btn-secondary block primaryButton"
                                @click="handleModalExhibition('Movimentos')">
                                {{ selectedCharacter.speedArray[0]?.value ?? '' }}
                            </button>
                        </div>
                    </div>
                    <div id="hitPoints">
                        <div class="maximum" data-bs-toggle="tooltip" title="Máximo de Pontos de Vida">
                            <input type="text" v-model="selectedCharacter.hitPoints.maximum">
                        </div>
                        <div class="floatable">
                            <div class="current" data-bs-toggle="tooltip" title="Pontos de Vida Atuais">
                                <input type="text" v-model="selectedCharacter.hitPoints.current">
                            </div>
                            <div class="temporary" data-bs-toggle="tooltip" title="Pontos de Vida Temporários">
                                <input type="text" v-model="selectedCharacter.hitPoints.temporary">
                            </div>
                        </div>
                    </div>
                    <div class="lastRow">
                        <div id="hitDices" data-bs-toggle="tooltip" title="Dados de Vida">
                            <input class="type" type="text" v-model="selectedCharacter.hitDices.type">
                            <input class="current" type="text" v-model="selectedCharacter.hitDices.current">
                        </div>
                        <div id="deathSaves" data-bs-toggle="tooltip" title="Testes de Sobrevivência">
                            <div class="block" onclick="updateSaves('successes')">
                                Sucessos:
                                <div class="progress">
                                    <div id="successes"
                                        class="progress-bar bg-success progress-bar-striped progress-bar-animated"
                                        role="progressbar" v-bind:style="successesStyle"
                                        :aria-valuenow="selectedCharacter.deathSaves.successes" aria-valuemin="0"
                                        aria-valuemax="99"></div>
                                </div>
                            </div>

                            <div class="block" onclick="updateSaves('failures')">
                                Falhas:
                                <div class="progress">
                                    <div id="failures"
                                        class="progress-bar bg-danger progress-bar-striped progress-bar-animated"
                                        role="progressbar" v-bind:style="failuresStyle"
                                        aria-valuenow="selectedCharacter.deathSaves.failures" aria-valuemin="0"
                                        aria-valuemax="99"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="personality" class="block">
                    <div id="traits">
                        <button type="button" class="btn btn-secondary block primaryButton"
                            @click="handleModalExhibition('Traços de Personalidade')"> Traços de Personalidade
                        </button>
                    </div>
                    <div id="ideals">
                        <button type="button" class="btn btn-secondary block primaryButton"
                            @click="handleModalExhibition('Objetivos')"> Objetivos
                        </button>
                    </div>
                    <div id="bonds">
                        <button type="button" class="btn btn-secondary block primaryButton"
                            @click="handleModalExhibition('Laços')"> Laços
                        </button>
                    </div>
                    <div id="flaws">
                        <button type="button" class="btn btn-secondary block primaryButton"
                            @click="handleModalExhibition('Defeitos')"> Defeitos
                        </button>
                    </div>
                </div>

                <div id="otherProficiencies" class="block">
                    <div class="languages">
                        Línguas: <br>
                        <input type="text" v-model="selectedCharacter.otherProficiencies.languages">
                    </div>
                    <div class="armors">
                        Armaduras: <br>
                        <input type="text" v-model="selectedCharacter.otherProficiencies.armors">
                    </div>
                    <div class="weapons">
                        Armas: <br>
                        <input type="text" v-model="selectedCharacter.otherProficiencies.weapons">
                    </div>
                    <div class="tools">
                        Ferramentas ou Instrumentos: <br>
                        <input type="text" v-model="selectedCharacter.otherProficiencies.tools">
                    </div>
                </div>

                <div id="actions" class="block">
                    <button class="btn block" @click="handleModalExhibition('Ações Principais')"
                        data-bs-toggle="tooltip" title="Ações Principais">
                        <div class="actionList" v-if="selectedCharacter.actions.main.length > 0">
                            <div class="listedAction block" v-for="action in selectedCharacter.actions.main">
                                <b>{{ action.name }}</b>
                                <div>
                                    <p v-if="action.hit">Acerto: {{ action.hit }}</p>
                                    <p v-if="action.difficultyClass">CD: {{ action.difficultyClass }}</p>
                                    <p v-if="action.damage != ''">{{ action.damage }}{{ action.damageType }}</p>
                                    <p v-if="!action.damage && !action.difficultyClass && !action.hit">{{
                                        action.description }}</p>
                                </div>
                            </div>
                        </div>
                        <p v-else>Ações</p>
                    </button>

                    <button class="btn block" @click="handleModalExhibition('Ações Bônus')" data-bs-toggle="tooltip"
                        title="Ações Bônus">
                        <div class="actionList" v-if="selectedCharacter.actions.bonus.length > 0">
                            <div class="listedAction block" v-for="action in selectedCharacter.actions.bonus">
                                <b>{{ action.name }}</b>
                                <div>
                                    <p v-if="action.hit">Acerto: {{ action.hit }}</p>
                                    <p v-if="action.difficultyClass">CD: {{ action.difficultyClass }}</p>
                                    <p v-if="action.damage != ''">{{ action.damage }}{{ action.damageType }}</p>
                                    <p v-if="!action.damage && !action.difficultyClass && !action.hit">{{
                                        action.description }}</p>
                                </div>
                            </div>
                        </div>
                        <p v-else>Ações Bônus</p>
                    </button>

                    <button class="btn block" @click="handleModalExhibition('Reações')" data-bs-toggle="tooltip"
                        title="Reações">
                        <div class="actionList" v-if="selectedCharacter.actions.reactions.length > 0">
                            <div class="listedAction block" v-for="action in selectedCharacter.actions.reactions">
                                <b>{{ action.name }}</b>
                                <div>
                                    <p v-if="action.hit">Acerto: {{ action.hit }}</p>
                                    <p v-if="action.difficultyClass">CD: {{ action.difficultyClass }}</p>
                                    <p v-if="action.damage != ''">{{ action.damage }}{{ action.damageType }}</p>
                                    <p v-if="!action.damage && !action.difficultyClass && !action.hit">{{
                                        action.description }}</p>
                                </div>
                            </div>
                        </div>
                        <p v-else>Reações</p>
                    </button>
                </div>

                <div id="features" data-bs-toggle="tooltip" title="Habilidades">
                    <button class="btn block" @click="handleModalExhibition('Habilidades')">
                        <div class="featureList" v-if="selectedCharacter.featuresArray.length > 0">
                            <div class="listedFeature block" v-for="feat in selectedCharacter.featuresArray">
                                <b>{{ feat.title }}</b>
                                <div>
                                    <p>{{ feat.description }}</p>
                                </div>
                            </div>
                        </div>
                        <p v-else>Habilidades</p>
                    </button>
                </div>

                <div id="currency" class="block">
                    <div class="platin">
                        Platina:
                        <input type="number" v-model="selectedCharacter.currency.platin">
                    </div>
                    <div class="gold">
                        Ouro:
                        <input type="number" v-model="selectedCharacter.currency.gold">
                    </div>
                    <div class="silver">
                        Prata:
                        <input type="number" v-model="selectedCharacter.currency.silver">
                    </div>
                    <div class="copper">
                        Cobre:
                        <input type="number" v-model="selectedCharacter.currency.copper">
                    </div>
                </div>

                <div id="equipment" data-bs-toggle="tooltip" title="Itens e Equipamentos">
                    <button type="button" class="btn block" @click="handleModalExhibition('Equipamentos')">
                        <div class="equipmentList" v-if="selectedCharacter.equipmentArray.length > 0">
                            <label class="listedEquipment block" v-for="equip in selectedCharacter.equipmentArray">
                                <p>{{ equip.name }}</p>
                            </label>
                        </div>
                        <p v-else>Equipamentos</p>
                    </button>
                </div>
            </div>

            <div id="spellSheet" v-if="showSpellSheet" :key="3" class="appPage">
                <div id="header" class="block">
                    <button id="backToHomePage" class="block" data-bs-toggle="offcanvas" data-bs-target="#offcanvas">
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor"
                            class="bi bi-chevron-bar-right" viewBox="-4 -1 22 22">
                            <path fill-rule="evenodd"
                                d="M4.146 3.646a.5.5 0 0 0 0 .708L7.793 8l-3.647 3.646a.5.5 0 0 0 .708.708l4-4a.5.5 0 0 0 0-.708l-4-4a.5.5 0 0 0-.708 0zM11.5 1a.5.5 0 0 1 .5.5v13a.5.5 0 0 1-1 0v-13a.5.5 0 0 1 .5-.5z" />
                        </svg>
                    </button>

                    <input id="characterName" class="block" type="text" v-model="selectedCharacter.name"
                        data-bs-toggle="tooltip" data-bs-placement="bottom" title="Nome do Personagem">

                    <div class="characterInfo block">
                        <div>
                            <div id="classes" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Classes">
                                <button type="button" class="btn btn-secondary block primaryButton"
                                    @click="handleModalExhibition('Classes')">
                                    {{ selectedCharacter.classes[0]?.name ?? 'Classes' }}{{
                                    selectedCharacter.classes[0]?.value ? ', ' + selectedCharacter.classes[0].value :
                                    ''}}
                                </button>
                            </div>
                            <div id="race" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Raça">
                                <input type="text" placeholder="Raça" v-model="selectedCharacter.race">
                            </div>
                        </div>
                        <div>
                            <div id="background" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Passado">
                                <input type="text" placeholder="Passado" v-model="selectedCharacter.background">
                            </div>
                            <div id="alignment" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Alinhamento">
                                <input type="text" placeholder="Alinhamento" v-model="selectedCharacter.alignment">
                            </div>
                        </div>
                    </div>
                </div>
                <div id="castingInfo" class="block">

                </div>
                <div id="spellsHolder" class="block">
                    <div class="spellList block" v-for="spellLevel of gotSpellsLevel">
                        <p v-if="spellLevel == 0"><b>Truques</b></p>
                        <p v-else><b>Magias Nível {{ spellLevel }}</b></p>
                        <div class="listedSpell block" v-for="spell of getSpellsByLevel(spellLevel)"
                            data-bs-toggle="tooltip" data-bs-html="true" :title="getListedSpellTooltipText(spell)"
                            @click="showSpell(spell)">
                            {{ spell.name }}
                        </div>
                    </div>
                </div>
                <button id="addSpellButton" @click="handleModalExhibition('Adicionar Magia')" data-bs-toggle="tooltip"
                    title="Adicionar Magia">
                    <svg xmlns="http://www.w3.org/2000/svg" width="47" height="47" fill="white"
                        class="bi bi-plus-circle-dotted" viewBox="0 0 16 16">
                        <path
                            d="M8 0c-.176 0-.35.006-.523.017l.064.998a7.117 7.117 0 0 1 .918 0l.064-.998A8.113 8.113 0 0 0 8 0zM6.44.152c-.346.069-.684.16-1.012.27l.321.948c.287-.098.582-.177.884-.237L6.44.153zm4.132.271a7.946 7.946 0 0 0-1.011-.27l-.194.98c.302.06.597.14.884.237l.321-.947zm1.873.925a8 8 0 0 0-.906-.524l-.443.896c.275.136.54.29.793.459l.556-.831zM4.46.824c-.314.155-.616.33-.905.524l.556.83a7.07 7.07 0 0 1 .793-.458L4.46.824zM2.725 1.985c-.262.23-.51.478-.74.74l.752.66c.202-.23.418-.446.648-.648l-.66-.752zm11.29.74a8.058 8.058 0 0 0-.74-.74l-.66.752c.23.202.447.418.648.648l.752-.66zm1.161 1.735a7.98 7.98 0 0 0-.524-.905l-.83.556c.169.253.322.518.458.793l.896-.443zM1.348 3.555c-.194.289-.37.591-.524.906l.896.443c.136-.275.29-.54.459-.793l-.831-.556zM.423 5.428a7.945 7.945 0 0 0-.27 1.011l.98.194c.06-.302.14-.597.237-.884l-.947-.321zM15.848 6.44a7.943 7.943 0 0 0-.27-1.012l-.948.321c.098.287.177.582.237.884l.98-.194zM.017 7.477a8.113 8.113 0 0 0 0 1.046l.998-.064a7.117 7.117 0 0 1 0-.918l-.998-.064zM16 8a8.1 8.1 0 0 0-.017-.523l-.998.064a7.11 7.11 0 0 1 0 .918l.998.064A8.1 8.1 0 0 0 16 8zM.152 9.56c.069.346.16.684.27 1.012l.948-.321a6.944 6.944 0 0 1-.237-.884l-.98.194zm15.425 1.012c.112-.328.202-.666.27-1.011l-.98-.194c-.06.302-.14.597-.237.884l.947.321zM.824 11.54a8 8 0 0 0 .524.905l.83-.556a6.999 6.999 0 0 1-.458-.793l-.896.443zm13.828.905c.194-.289.37-.591.524-.906l-.896-.443c-.136.275-.29.54-.459.793l.831.556zm-12.667.83c.23.262.478.51.74.74l.66-.752a7.047 7.047 0 0 1-.648-.648l-.752.66zm11.29.74c.262-.23.51-.478.74-.74l-.752-.66c-.201.23-.418.447-.648.648l.66.752zm-1.735 1.161c.314-.155.616-.33.905-.524l-.556-.83a7.07 7.07 0 0 1-.793.458l.443.896zm-7.985-.524c.289.194.591.37.906.524l.443-.896a6.998 6.998 0 0 1-.793-.459l-.556.831zm1.873.925c.328.112.666.202 1.011.27l.194-.98a6.953 6.953 0 0 1-.884-.237l-.321.947zm4.132.271a7.944 7.944 0 0 0 1.012-.27l-.321-.948a6.954 6.954 0 0 1-.884.237l.194.98zm-2.083.135a8.1 8.1 0 0 0 1.046 0l-.064-.998a7.11 7.11 0 0 1-.918 0l-.064.998zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z" />
                    </svg>
                </button>
            </div>

            <div id="detailsSheet" v-if="showDetailsSheet" :key="4" class="appPage">
                <div id="header" class="block">
                    <button id="backToHomePage" class="block" data-bs-toggle="offcanvas" data-bs-target="#offcanvas">
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor"
                            class="bi bi-chevron-bar-right" viewBox="-4 -1 22 22">
                            <path fill-rule="evenodd"
                                d="M4.146 3.646a.5.5 0 0 0 0 .708L7.793 8l-3.647 3.646a.5.5 0 0 0 .708.708l4-4a.5.5 0 0 0 0-.708l-4-4a.5.5 0 0 0-.708 0zM11.5 1a.5.5 0 0 1 .5.5v13a.5.5 0 0 1-1 0v-13a.5.5 0 0 1 .5-.5z" />
                        </svg>
                    </button>

                    <input id="characterName" class="block" type="text" v-model="selectedCharacter.name"
                        data-bs-toggle="tooltip" data-bs-placement="bottom" title="Nome do Personagem">

                    <div class="characterInfo block">
                        <div>
                            <div id="classes" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Classes">
                                <button type="button" class="btn btn-secondary block primaryButton"
                                    @click="handleModalExhibition('Classes')">
                                    {{ selectedCharacter.classes[0]?.name ?? 'Classes' }}{{
                                    selectedCharacter.classes[0]?.value ? ', ' + selectedCharacter.classes[0].value :
                                    ''}}
                                </button>
                            </div>
                            <div id="race" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Raça">
                                <input type="text" placeholder="Raça" v-model="selectedCharacter.race">
                            </div>
                        </div>
                        <div>
                            <div id="background" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Passado">
                                <input type="text" placeholder="Passado" v-model="selectedCharacter.background">
                            </div>
                            <div id="alignment" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Alinhamento">
                                <input type="text" placeholder="Alinhamento" v-model="selectedCharacter.alignment">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="diary" v-if="showDiary" :key="5" class="appPage">
                <div id="header" class="block">
                    <button id="backToHomePage" class="block" data-bs-toggle="offcanvas" data-bs-target="#offcanvas">
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor"
                            class="bi bi-chevron-bar-right" viewBox="-4 -1 22 22">
                            <path fill-rule="evenodd"
                                d="M4.146 3.646a.5.5 0 0 0 0 .708L7.793 8l-3.647 3.646a.5.5 0 0 0 .708.708l4-4a.5.5 0 0 0 0-.708l-4-4a.5.5 0 0 0-.708 0zM11.5 1a.5.5 0 0 1 .5.5v13a.5.5 0 0 1-1 0v-13a.5.5 0 0 1 .5-.5z" />
                        </svg>
                    </button>

                    <input id="characterName" class="block" type="text" v-model="selectedCharacter.name"
                        data-bs-toggle="tooltip" data-bs-placement="bottom" title="Nome do Personagem">

                    <div class="characterInfo block">
                        <div>
                            <div id="classes" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Classes">
                                <button type="button" class="btn btn-secondary block primaryButton"
                                    @click="handleModalExhibition('Classes')">
                                    {{ selectedCharacter.classes[0]?.name ?? 'Classes' }}{{
                                    selectedCharacter.classes[0]?.value ? ', ' + selectedCharacter.classes[0].value :
                                    ''}}
                                </button>
                            </div>
                            <div id="race" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Raça">
                                <input type="text" placeholder="Raça" v-model="selectedCharacter.race">
                            </div>
                        </div>
                        <div>
                            <div id="background" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Passado">
                                <input type="text" placeholder="Passado" v-model="selectedCharacter.background">
                            </div>
                            <div id="alignment" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Alinhamento">
                                <input type="text" placeholder="Alinhamento" v-model="selectedCharacter.alignment">
                            </div>
                        </div>
                    </div>
                </div>
                <textarea id="diaryPage" v-model="selectedCharacter.diary" class="block"></textarea>
            </div>
        </transition-group>

        <div class="offcanvas offcanvas-start" data-bs-scroll="true" data-bs-backdrop="false" tabindex="-1"
            id="offcanvas" aria-labelledby="offcanvasLabel">
            <div class="offcanvas-header">
                <p>{{ selectedCharacter.name }}</p>
                <button id="offcanvasClose" type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
            </div>
            <div class="offcanvas-body">
                <div class="pageChangeButtons">
                    <button v-if="!showCharacterSheet" onclick="goToCharacterSheet()" data-bs-dismiss="offcanvas"
                        class="btn btn-secondary primaryButton block">Ficha de
                        Personagem</button>
                    <button v-if="!showSpellSheet" onclick="goToSpellSheet()" data-bs-dismiss="offcanvas"
                        class="btn btn-secondary primaryButton block">Ficha de Magia</button>
                    <!-- <button v-if="!showDetailsSheet" onclick="goToDetailsSheet()" data-bs-dismiss="offcanvas"
                        class="btn btn-secondary primaryButton block">Características</button> -->
                    <button v-if="!showDiary" onclick="goToDiary()" class="btn btn-secondary primaryButton block"
                        data-bs-dismiss="offcanvas">Diário</button>
                </div>
                <button v-if="!showHomePage" id="exitButton" class="btn btn-secondary primaryButton block"
                    data-bs-dismiss="offcanvas" onclick="backToHomePage()">
                    Sair
                </button>
            </div>
        </div>

        <div class="modal fade" id="modal" tabindex="-1" aria-labelledby="modalTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                <div class="modal-content modal-block">
                    <div class="modal-header">
                        <h5 class="modal-title" id="modalTitle"> {{ modal }} </h5>
                    </div>
                    <div v-if="modal == 'Classes'" id="modalBody" class="modal-body">
                        <div v-if="selectedCharacter.classes.length > 0" id="classesList" class="input-group block">
                            <ul>
                                <li class="sequencial" v-for="(classe, index) in selectedCharacter['classes']">
                                    <p>{{ classe.name }}:</p> <input type="number"
                                        v-model="selectedCharacter['classes'][index]['value']">
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div v-if="modal == 'Classes'" class="modal-footer">
                        <div class="input-group">
                            <input type="text" placeholder="Nova Classe" id="newClassName">
                            <button type="button" class="input-group-text" onclick="addNewClass()">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                                    class="bi bi-box-arrow-in-right" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd"
                                        d="M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0v-2z" />
                                    <path fill-rule="evenodd"
                                        d="M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z" />
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div v-if="modal == 'Movimentos'" id="modalBody" class="modal-body">
                        <div v-if="selectedCharacter.speedArray.length > 0" id="movementsList"
                            class="input-group block">
                            <ul>
                                <li v-for="(move, index) in selectedCharacter['speedArray']">
                                    <div class="block sequencial">
                                        <p>{{ move.name}}:</p> <input type="number"
                                            v-model="selectedCharacter['speedArray'][index]['value']"> <button
                                            @click="deleteMovement(index)"
                                            class="btn btn-secondary block primaryButton deleter">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                                fill="currentColor" class="bi bi-trash2-fill" viewBox="0 0 16 16">
                                                <path
                                                    d="M2.037 3.225A.703.703 0 0 1 2 3c0-1.105 2.686-2 6-2s6 .895 6 2a.702.702 0 0 1-.037.225l-1.684 10.104A2 2 0 0 1 10.305 15H5.694a2 2 0 0 1-1.973-1.671L2.037 3.225zm9.89-.69C10.966 2.214 9.578 2 8 2c-1.58 0-2.968.215-3.926.534-.477.16-.795.327-.975.466.18.14.498.307.975.466C5.032 3.786 6.42 4 8 4s2.967-.215 3.926-.534c.477-.16.795-.327.975-.466-.18-.14-.498-.307-.975-.466z" />
                                            </svg>
                                        </button>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div v-if="modal == 'Movimentos'" class="modal-footer">
                        <div class="input-group">
                            <input type="text" placeholder="Novo Movimento" id="newSpeedName">
                            <button type="button" class="input-group-text" onclick="addNewSpeed()">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                                    class="bi bi-box-arrow-in-right" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd"
                                        d="M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0v-2z" />
                                    <path fill-rule="evenodd"
                                        d="M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z" />
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div v-if="modal == 'Traços de Personalidade'" id="modalBody" class="modal-body">
                        <div v-if="selectedCharacter.personalityTraitsArray.length > 0" id="personalityTraitsList"
                            class="input-group block">
                            <ul>
                                <li v-for="(trait, index) in selectedCharacter['personalityTraitsArray']">
                                    <div class="listedStrings block">
                                        <p class="listedTitle">{{ trait }}</p>
                                        <button @click="deleteTrait(index)"
                                            class="btn btn-secondary block primaryButton deleter">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                                fill="currentColor" class="bi bi-trash2-fill" viewBox="0 0 16 16">
                                                <path
                                                    d="M2.037 3.225A.703.703 0 0 1 2 3c0-1.105 2.686-2 6-2s6 .895 6 2a.702.702 0 0 1-.037.225l-1.684 10.104A2 2 0 0 1 10.305 15H5.694a2 2 0 0 1-1.973-1.671L2.037 3.225zm9.89-.69C10.966 2.214 9.578 2 8 2c-1.58 0-2.968.215-3.926.534-.477.16-.795.327-.975.466.18.14.498.307.975.466C5.032 3.786 6.42 4 8 4s2.967-.215 3.926-.534c.477-.16.795-.327.975-.466-.18-.14-.498-.307-.975-.466z" />
                                            </svg>
                                        </button>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div v-if="modal == 'Traços de Personalidade'" class="modal-footer">
                        <div class="input-group">
                            <input type="text" placeholder="Novo Traço" id="newTrait">
                            <button type="button" class="input-group-text" onclick="addNewTrait()">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                                    class="bi bi-box-arrow-in-right" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd"
                                        d="M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0v-2z" />
                                    <path fill-rule="evenodd"
                                        d="M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z" />
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div v-if="modal == 'Objetivos'" id="modalBody" class="modal-body">
                        <div v-if="selectedCharacter.idealsArray.length > 0" id="idealsList" class="input-group block">
                            <ul>
                                <li v-for="(ideal, index) in selectedCharacter['idealsArray']">
                                    <div class="listedStrings block">
                                        <p class="listedTitle">{{ ideal }}</p>
                                        <button @click="deleteIdeal(index)"
                                            class="btn btn-secondary block primaryButton deleter">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                                fill="currentColor" class="bi bi-trash2-fill" viewBox="0 0 16 16">
                                                <path
                                                    d="M2.037 3.225A.703.703 0 0 1 2 3c0-1.105 2.686-2 6-2s6 .895 6 2a.702.702 0 0 1-.037.225l-1.684 10.104A2 2 0 0 1 10.305 15H5.694a2 2 0 0 1-1.973-1.671L2.037 3.225zm9.89-.69C10.966 2.214 9.578 2 8 2c-1.58 0-2.968.215-3.926.534-.477.16-.795.327-.975.466.18.14.498.307.975.466C5.032 3.786 6.42 4 8 4s2.967-.215 3.926-.534c.477-.16.795-.327.975-.466-.18-.14-.498-.307-.975-.466z" />
                                            </svg>
                                        </button>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div v-if="modal == 'Objetivos'" class="modal-footer">
                        <div class="input-group">
                            <input type="text" placeholder="Novo Objetivo" id="newIdeal">
                            <button type="button" class="input-group-text" onclick="addNewIdeal()">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                                    class="bi bi-box-arrow-in-right" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd"
                                        d="M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0v-2z" />
                                    <path fill-rule="evenodd"
                                        d="M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z" />
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div v-if="modal == 'Laços'" id="modalBody" class="modal-body">
                        <div v-if="selectedCharacter.bondsArray.length > 0" id="bondsList" class="input-group block">
                            <ul>
                                <li v-for="(bond, index) in selectedCharacter['bondsArray']">
                                    <div class="listedStrings block">
                                        <p class="listedTitle">{{ bond }}</p>
                                        <button @click="deleteBond(index)"
                                            class="btn btn-secondary block primaryButton deleter">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                                fill="currentColor" class="bi bi-trash2-fill" viewBox="0 0 16 16">
                                                <path
                                                    d="M2.037 3.225A.703.703 0 0 1 2 3c0-1.105 2.686-2 6-2s6 .895 6 2a.702.702 0 0 1-.037.225l-1.684 10.104A2 2 0 0 1 10.305 15H5.694a2 2 0 0 1-1.973-1.671L2.037 3.225zm9.89-.69C10.966 2.214 9.578 2 8 2c-1.58 0-2.968.215-3.926.534-.477.16-.795.327-.975.466.18.14.498.307.975.466C5.032 3.786 6.42 4 8 4s2.967-.215 3.926-.534c.477-.16.795-.327.975-.466-.18-.14-.498-.307-.975-.466z" />
                                            </svg>
                                        </button>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div v-if="modal == 'Laços'" class="modal-footer">
                        <div class="input-group">
                            <input type="text" placeholder="Novo Laço" id="newBond">
                            <button type="button" class="input-group-text" onclick="addNewBond()">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                                    class="bi bi-box-arrow-in-right" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd"
                                        d="M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0v-2z" />
                                    <path fill-rule="evenodd"
                                        d="M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z" />
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div v-if="modal == 'Defeitos'" id="modalBody" class="modal-body">
                        <div v-if="selectedCharacter.flawsArray.length > 0" id="flawsList" class="input-group block">
                            <ul>
                                <li v-for="(flaw, index) in selectedCharacter['flawsArray']">
                                    <div class="listedStrings block">
                                        <p class="listedTitle">{{ flaw }}</p>
                                        <button @click="deleteFlaw(index)"
                                            class="btn btn-secondary block primaryButton deleter">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                                fill="currentColor" class="bi bi-trash2-fill" viewBox="0 0 16 16">
                                                <path
                                                    d="M2.037 3.225A.703.703 0 0 1 2 3c0-1.105 2.686-2 6-2s6 .895 6 2a.702.702 0 0 1-.037.225l-1.684 10.104A2 2 0 0 1 10.305 15H5.694a2 2 0 0 1-1.973-1.671L2.037 3.225zm9.89-.69C10.966 2.214 9.578 2 8 2c-1.58 0-2.968.215-3.926.534-.477.16-.795.327-.975.466.18.14.498.307.975.466C5.032 3.786 6.42 4 8 4s2.967-.215 3.926-.534c.477-.16.795-.327.975-.466-.18-.14-.498-.307-.975-.466z" />
                                            </svg>
                                        </button>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div v-if="modal == 'Defeitos'" class="modal-footer">
                        <div class="input-group">
                            <input type="text" placeholder="Novo Defeito" id="newFlaw">
                            <button type="button" class="input-group-text" onclick="addNewFlaw()">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                                    class="bi bi-box-arrow-in-right" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd"
                                        d="M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0v-2z" />
                                    <path fill-rule="evenodd"
                                        d="M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z" />
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div v-if="modal == 'Equipamentos'" id="modalBody" class="modal-body">
                        <div id="itemList">
                            <div class="listedItem sequencial block"
                                v-for="(item, index) in selectedCharacter.equipmentArray">
                                <div class="sequencial">
                                    <p class="listedTitle">{{ item.name }}</p>
                                    <input type="number" v-model="selectedCharacter.equipmentArray[index].quantity">
                                </div>
                                <div v-if="item.description != ''" class="description block">
                                    <div class="details">
                                        <p><i>Raridade: {{ otherTranslations(item.rarity) }}</i></p>
                                        <p><i>Peso: {{ item.weight }}</i></p>
                                        <p><i>Valor: {{ item.value }}</i></p>
                                    </div>
                                    <p class="itemDescription">{{ item.description }}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div v-if="modal == 'Equipamentos'" class="modal-footer">
                        <button type="button" class="btn btn-secondary block primaryButton"
                            @click="handleModalExhibition('Adicionar Equipamento', false)">
                            Adicionar Equipamento
                        </button>
                    </div>
                    <div v-if="modal == 'Adicionar Equipamento'" id="modalBody" class="modal-body">
                        <div id="addItemList">
                            <div class="listedItem block" v-for="item in allSavedItems">
                                <div class="sequencial">
                                    <p class="listedTitle">{{ item.name }}</p>

                                    <button type="button" class="btn btn-secondary block primaryButton adder"
                                        @click="addItemToCharacter(item)">+</button>

                                    <button type="button" class="btn btn-secondary block primaryButton editter"
                                        @click="handleModalExhibition('Editar Equipamento', false, item)">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                            fill="currentColor" class="bi bi-pencil" viewBox="0 0 16 16">
                                            <path
                                                d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z" />
                                        </svg>
                                    </button>

                                    <button @click="deleteItemFromDatabase(item.itemId)"
                                        class="btn btn-secondary block primaryButton deleter">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                            fill="currentColor" class="bi bi-trash2-fill" viewBox="0 0 16 16">
                                            <path
                                                d="M2.037 3.225A.703.703 0 0 1 2 3c0-1.105 2.686-2 6-2s6 .895 6 2a.702.702 0 0 1-.037.225l-1.684 10.104A2 2 0 0 1 10.305 15H5.694a2 2 0 0 1-1.973-1.671L2.037 3.225zm9.89-.69C10.966 2.214 9.578 2 8 2c-1.58 0-2.968.215-3.926.534-.477.16-.795.327-.975.466.18.14.498.307.975.466C5.032 3.786 6.42 4 8 4s2.967-.215 3.926-.534c.477-.16.795-.327.975-.466-.18-.14-.498-.307-.975-.466z" />
                                        </svg>
                                    </button>
                                </div>
                                <div v-if="item.description != ''" class="description block">
                                    <div class="details">
                                        <p><i>Raridade: {{ otherTranslations(item.rarity) }}</i></p>
                                        <p><i>Peso: {{ item.weight }}</i></p>
                                        <p><i>Valor: {{ item.value }}</i></p>
                                    </div>
                                    <p>{{ item.description }}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div v-if="modal == 'Adicionar Equipamento'" class="modal-footer">
                        <div class="clearfix">
                            <button type="button" class="btn btn-secondary block primaryButton float-start"
                                @click="handleModalExhibition('Equipamentos', false)">
                                Voltar
                            </button>
                            <button type="button" class="btn btn-secondary block primaryButton float-end"
                                @click="handleModalExhibition('Adicionar Novo Equipamento', false)">
                                Adicionar Novo Equipamento
                            </button>
                        </div>
                    </div>
                    <div v-if="modal == 'Editar Equipamento'" id="modalBody" class="modal-body">
                        Nome do Item:
                        <input type="text" v-model="editItem.name">

                        Tipo:
                        <select class="form-select" v-model="editItem.type">
                            <option v-for="type in itemsTypes" :value="type">{{ otherTranslations(type) }}</option>
                        </select>

                        Raridade:
                        <select class="form-select" v-model="editItem.rarity">
                            <option v-for="rarity in itemsRarities" :value="rarity">{{ otherTranslations(rarity) }}
                            </option>
                        </select>

                        Peso:
                        <input placeholder="Peso do Item" type="text" v-model="editItem.weight">

                        Valor:
                        <input placeholder="Valor do Item" type="text" v-model="editItem.value">

                        Descrição:
                        <textarea placeholder="Descrição" class="formDescription block"
                            v-model="editItem.description"></textarea>
                    </div>
                    <div v-if="modal == 'Editar Equipamento'" class="modal-footer">
                        <div class="clearfix">
                            <button type="button" class="btn btn-secondary block primaryButton float-start"
                                @click="handleModalExhibition('Adicionar Equipamento', false)">
                                Voltar
                            </button>
                            <button type="button" class="btn btn-secondary block primaryButton float-end"
                                @click="updateItem(editItem)">
                                Salvar
                            </button>
                        </div>
                    </div>
                    <div v-if="modal == 'Adicionar Novo Equipamento'" id="modalBody" class="modal-body">
                        <div class="newItem">
                            Nome do Item:
                            <input type="text" id="newItemName">

                            Tipo:
                            <select id="newItemType">
                                <option v-for="type in itemsTypes" :value="type">{{ otherTranslations(type) }}</option>
                            </select>

                            Raridade:
                            <select id="newItemRarity">
                                <option v-for="rarity in itemsRarities" :value="rarity">{{ otherTranslations(rarity) }}
                                </option>
                            </select>

                            Peso:
                            <input placeholder="5 kg" type="text" id="newItemWeight">

                            Valor:
                            <input placeholder="5pc" type="text" id="newItemValue">

                            Descrição:
                            <textarea class="formDescription block" id="newItemDescription"></textarea>
                        </div>
                    </div>
                    <div v-if="modal == 'Adicionar Novo Equipamento'" class="modal-footer">
                        <div class="clearfix">
                            <button type="button" class="btn btn-secondary block primaryButton float-start"
                                @click="handleModalExhibition('Adicionar Equipamento', false)">
                                Voltar
                            </button>
                            <button type="button" class="btn btn-secondary block primaryButton float-end"
                                @click="addNewItem()">
                                Adicionar
                            </button>
                        </div>
                    </div>
                    <div v-if="modal == 'Habilidades'" id="modalBody" class="modal-body">
                        <div id="featList">
                            <div class="listedFeat block" v-for="(feat, index) in selectedCharacter.featuresArray">
                                <div class="sequencial">
                                    <p class="listedTitle">{{ feat.title }}</p>

                                    <button type="button" class="btn btn-secondary block primaryButton editter"
                                        @click="handleModalExhibition('Editar Habilidade', false, null, index)">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                            fill="currentColor" class="bi bi-pencil" viewBox="0 0 16 16">
                                            <path
                                                d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z" />
                                        </svg>
                                    </button>

                                    <button @click="deleteFeat(index)"
                                        class="btn btn-secondary block primaryButton deleter">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                            fill="currentColor" class="bi bi-trash2-fill" viewBox="0 0 16 16">
                                            <path
                                                d="M2.037 3.225A.703.703 0 0 1 2 3c0-1.105 2.686-2 6-2s6 .895 6 2a.702.702 0 0 1-.037.225l-1.684 10.104A2 2 0 0 1 10.305 15H5.694a2 2 0 0 1-1.973-1.671L2.037 3.225zm9.89-.69C10.966 2.214 9.578 2 8 2c-1.58 0-2.968.215-3.926.534-.477.16-.795.327-.975.466.18.14.498.307.975.466C5.032 3.786 6.42 4 8 4s2.967-.215 3.926-.534c.477-.16.795-.327.975-.466-.18-.14-.498-.307-.975-.466z" />
                                        </svg>
                                    </button>
                                </div>
                                <div class="description block">
                                    <p><i>Origem: {{ feat.origin }}</i></p>
                                    <p>{{ feat.description }}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div v-if="modal == 'Habilidades'" class="modal-footer">
                        <button type="button" class="btn btn-secondary block primaryButton"
                            @click="handleModalExhibition('Adicionar Habilidade', false)">
                            Adicionar Habilidade
                        </button>
                    </div>
                    <div v-if="modal == 'Editar Habilidade'" id="modalBody" class="modal-body">
                        Nome da Habilidade:
                        <input type="text" v-model="selectedCharacter.featuresArray[editArrayIndex].title">

                        Origem:
                        <input type="text" v-model="selectedCharacter.featuresArray[editArrayIndex].origin" placeholder="
                            classe, raça, etc.">

                        Descrição:
                        <textarea class="formDescription block"
                            v-model="selectedCharacter.featuresArray[editArrayIndex].description"></textarea>
                    </div>
                    <div v-if="modal == 'Editar Habilidade'" class="modal-footer">
                        <div class="clearfix">
                            <button type="button" class="btn btn-secondary block primaryButton float-start"
                                @click="handleModalExhibition('Habilidades', false)">
                                Voltar
                            </button>
                        </div>
                    </div>
                    <div v-if="modal == 'Adicionar Habilidade'" id="modalBody" class="modal-body">
                        <div class="newFeature">
                            Nome da Habilidade:
                            <input type="text" id="featureTitle">

                            Origem:
                            <input type="text" id="featureOrigin" placeholder="classe, raça, etc.">

                            Descrição:
                            <textarea class="formDescription block" id="featureDescription"></textarea>
                        </div>
                    </div>
                    <div v-if="modal == 'Adicionar Habilidade'" class="modal-footer">
                        <div class="clearfix">
                            <button type="button" class="btn btn-secondary block primaryButton float-start"
                                @click="handleModalExhibition('Habilidades', false)">
                                Voltar
                            </button>
                            <button type="button" class="btn btn-secondary block primaryButton float-end"
                                onclick="addNewFeature()">
                                Adicionar Nova Habilidade
                            </button>
                        </div>
                    </div>
                    <div v-if="modal == 'Ações Principais'" id="modalBody" class="modal-body">
                        <div id="mainActionList">
                            <div class="listedMainAction block"
                                v-for="(action, index) in selectedCharacter.actions.main">
                                <div class="sequencial">
                                    <p class="listedTitle">{{ action.name }}</p>

                                    <button @click="deleteAction(index, 'main')"
                                        class="btn btn-secondary block primaryButton deleter">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                            fill="currentColor" class="bi bi-trash2-fill" viewBox="0 0 16 16">
                                            <path
                                                d="M2.037 3.225A.703.703 0 0 1 2 3c0-1.105 2.686-2 6-2s6 .895 6 2a.702.702 0 0 1-.037.225l-1.684 10.104A2 2 0 0 1 10.305 15H5.694a2 2 0 0 1-1.973-1.671L2.037 3.225zm9.89-.69C10.966 2.214 9.578 2 8 2c-1.58 0-2.968.215-3.926.534-.477.16-.795.327-.975.466.18.14.498.307.975.466C5.032 3.786 6.42 4 8 4s2.967-.215 3.926-.534c.477-.16.795-.327.975-.466-.18-.14-.498-.307-.975-.466z" />
                                        </svg>
                                    </button>
                                </div>
                                <div class="description block">
                                    <div class="details">
                                        <p class="minorInfo" v-if="action.hit"><i>Acerto: {{ action.hit }}</i></p>
                                        <p class="minorInfo" v-if="action.difficultyClass"><i>DC: {{
                                                action.difficultyClass
                                                }}</i></p>
                                        <p class="minorInfo" v-if="action.damage != ''"><i>Dano: {{ action.damage }}{{
                                                action.damageType }}</i></p>
                                    </div>
                                    <p class="minorInfo">{{ action.description }}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div v-if="modal == 'Ações Principais'" class="modal-footer">
                        <button type="button" class="btn btn-secondary block primaryButton"
                            @click="handleModalExhibition('Adicionar Ação', false)">
                            Adicionar Ação
                        </button>
                    </div>
                    <div v-if="modal == 'Ações Bônus'" id="modalBody" class="modal-body">
                        <div id="mainActionList">
                            <div class="listedBonusAction block"
                                v-for="(action, index) in selectedCharacter.actions.bonus">
                                <div class="sequencial">
                                    <p class="listedTitle">{{ action.name }}</p>

                                    <button @click="deleteAction(index, 'bonus')"
                                        class="btn btn-secondary block primaryButton deleter">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                            fill="currentColor" class="bi bi-trash2-fill" viewBox="0 0 16 16">
                                            <path
                                                d="M2.037 3.225A.703.703 0 0 1 2 3c0-1.105 2.686-2 6-2s6 .895 6 2a.702.702 0 0 1-.037.225l-1.684 10.104A2 2 0 0 1 10.305 15H5.694a2 2 0 0 1-1.973-1.671L2.037 3.225zm9.89-.69C10.966 2.214 9.578 2 8 2c-1.58 0-2.968.215-3.926.534-.477.16-.795.327-.975.466.18.14.498.307.975.466C5.032 3.786 6.42 4 8 4s2.967-.215 3.926-.534c.477-.16.795-.327.975-.466-.18-.14-.498-.307-.975-.466z" />
                                        </svg>
                                    </button>
                                </div>
                                <div class="description block">
                                    <div class="details">
                                        <p class="minorInfo" v-if="action.hit"><i>Acerto: {{ action.hit }}</i></p>
                                        <p class="minorInfo" v-if="action.difficultyClass"><i>DC: {{
                                                action.difficultyClass
                                                }}</i></p>
                                        <p class="minorInfo" v-if="action.damage != ''"><i>Dano: {{ action.damage }}{{
                                                action.damageType }}</i></p>
                                    </div>
                                    <p class="minorInfo">{{ action.description }}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div v-if="modal == 'Ações Bônus'" class="modal-footer">
                        <button type="button" class="btn btn-secondary block primaryButton"
                            @click="handleModalExhibition('Adicionar Ação Bônus', false)">
                            Adicionar Ação Bônus
                        </button>
                    </div>
                    <div v-if="modal == 'Reações'" id="modalBody" class="modal-body">
                        <div id="mainActionList">
                            <div class="listedReaction block"
                                v-for="(action, index) in selectedCharacter.actions.reactions">
                                <div class="sequencial">
                                    <p class="listedTitle">{{ action.name }}</p>

                                    <button @click="deleteAction(index, 'reactions')"
                                        class="btn btn-secondary block primaryButton deleter">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                            fill="currentColor" class="bi bi-trash2-fill" viewBox="0 0 16 16">
                                            <path
                                                d="M2.037 3.225A.703.703 0 0 1 2 3c0-1.105 2.686-2 6-2s6 .895 6 2a.702.702 0 0 1-.037.225l-1.684 10.104A2 2 0 0 1 10.305 15H5.694a2 2 0 0 1-1.973-1.671L2.037 3.225zm9.89-.69C10.966 2.214 9.578 2 8 2c-1.58 0-2.968.215-3.926.534-.477.16-.795.327-.975.466.18.14.498.307.975.466C5.032 3.786 6.42 4 8 4s2.967-.215 3.926-.534c.477-.16.795-.327.975-.466-.18-.14-.498-.307-.975-.466z" />
                                        </svg>
                                    </button>
                                </div>
                                <div v-if="action.description || action.hit || action.damage" class="description block">
                                    <div class="details">
                                        <p class="minorInfo" v-if="action.hit"><i>Acerto: {{ action.hit }}</i></p>
                                        <p class="minorInfo" v-if="action.difficultyClass"><i>DC: {{
                                                action.difficultyClass
                                                }}</i></p>
                                        <p class="minorInfo" v-if="action.damage != ''"><i>Dano: {{ action.damage }}{{
                                                action.damageType }}</i></p>
                                    </div>
                                    <p class="minorInfo">{{ action.description }}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div v-if="modal == 'Reações'" class="modal-footer">
                        <button type="button" class="btn btn-secondary block primaryButton"
                            @click="handleModalExhibition('Adicionar Reação', false)">
                            Adicionar Reação
                        </button>
                    </div>
                    <div v-if="modal == 'Adicionar Ação' || modal == 'Adicionar Ação Bônus' || modal == 'Adicionar Reação'"
                        id="modalBody" class="modal-body">
                        <div class="newAction">
                            Nome da Ação:
                            <input type="text" id="actionName" placeholder="Nome da Ação">

                            Tipo:
                            <select id="actionHitType">
                                <option value="hit">Acerto</option>
                                <option value="difficultyClass">Classe de Dificuldade</option>
                            </select>

                            Bônus de Acerto ou Classe de Dificuldade:
                            <input type="text" id="actionHitDC">

                            Dano:
                            <input type="text" id="actionDamage" placeholder="1d6 + 2">

                            Tipo de Dano
                            <input type="text" id="actionDamageType" placeholder="concussivo">

                            Descrição:
                            <textarea class="formDescription block" id="actionDescription"
                                placeholder="Descrição"></textarea>
                        </div>
                    </div>
                    <div v-if="modal == 'Adicionar Ação'" class="modal-footer">
                        <div class="clearfix">
                            <button type="button" class="btn btn-secondary block primaryButton float-start"
                                @click="handleModalExhibition('Ações Principais', false)">
                                Voltar
                            </button>
                            <button type="button" class="btn btn-secondary block primaryButton float-end"
                                onclick="addNewAction('main', 'Ações Principais')">
                                Adicionar Nova Ação
                            </button>
                        </div>
                    </div>
                    <div v-if="modal == 'Adicionar Ação Bônus'" class="modal-footer">
                        <div class="clearfix">
                            <button type="button" class="btn btn-secondary block primaryButton float-start"
                                @click="handleModalExhibition('Ações Bônus', false)">
                                Voltar
                            </button>
                            <button type="button" class="btn btn-secondary block primaryButton float-end"
                                onclick="addNewAction('bonus', 'Ações Bônus')">
                                Adicionar Nova Ação Bônus
                            </button>
                        </div>
                    </div>
                    <div v-if="modal == 'Adicionar Reação'" class="modal-footer">
                        <div class="clearfix">
                            <button type="button" class="btn btn-secondary block primaryButton float-start"
                                @click="handleModalExhibition('Reações', false)">
                                Voltar
                            </button>
                            <button type="button" class="btn btn-secondary block primaryButton float-end"
                                onclick="addNewAction('reactions', 'Reações')">
                                Adicionar Nova Reação
                            </button>
                        </div>
                    </div>
                    <div v-if="modal == 'Adicionar Magia'" id="modalBody" class="modal-body">
                        <div class="listAllSpells">
                            <div class="form-floating mb-3">
                                <input type="text" class="form-control" id="floatingInput" placeholder="Busque por nome"
                                    v-model="spellFilter">
                                <label for="floatingInput"><svg xmlns="http://www.w3.org/2000/svg" width="16"
                                        height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                                        <path
                                            d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z" />
                                    </svg></label>
                            </div>

                            <div class="listedSpellToAdd block" v-for="spell of filteredSpells">
                                <div class="sequencial">
                                    <p class="listedTitle">{{ spell.name }}</p>

                                    <button type="button" class="btn btn-secondary block primaryButton adder"
                                        @click="addSpellToCharacter(spell)">+</button>

                                    <button type="button" class="btn btn-secondary block primaryButton editter"
                                        @click="handleModalExhibition('Editar Magia', false, spell)">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                            fill="currentColor" class="bi bi-pencil" viewBox="0 0 16 16">
                                            <path
                                                d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z" />
                                        </svg>
                                    </button>

                                    <button @click="deleteSpellFromDatabase(spell.id)"
                                        class="btn btn-secondary block primaryButton deleter">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                            fill="currentColor" class="bi bi-trash2-fill" viewBox="0 0 16 16">
                                            <path
                                                d="M2.037 3.225A.703.703 0 0 1 2 3c0-1.105 2.686-2 6-2s6 .895 6 2a.702.702 0 0 1-.037.225l-1.684 10.104A2 2 0 0 1 10.305 15H5.694a2 2 0 0 1-1.973-1.671L2.037 3.225zm9.89-.69C10.966 2.214 9.578 2 8 2c-1.58 0-2.968.215-3.926.534-.477.16-.795.327-.975.466.18.14.498.307.975.466C5.032 3.786 6.42 4 8 4s2.967-.215 3.926-.534c.477-.16.795-.327.975-.466-.18-.14-.498-.307-.975-.466z" />
                                        </svg>
                                    </button>
                                </div>
                                <div class="description block">
                                    <div class="details">
                                        <p class="block" v-if="spell.level != ''">Nível {{ spell.level }}<br><span
                                                v-if="spell.school != ''">{{ spell.school }}</span><span
                                                v-if="spell.casting.ritual"> (ritual)</span></p>

                                        <p class="block" v-if="spell.casting">Conjuração:<br> {{ spell.casting.time }}
                                            {{ translateSpell(spell.casting.type) }}</p>

                                        <p class="block" v-if="spell.range.type != ''">Alcance:<br> <span
                                                v-if="spell.range.type == 'ranged'">{{ spell.range.distance }}
                                                metros</span><span v-if="spell.range.type == 'meelee'">Corpo a
                                                Corpo</span></p>

                                        <p class="block"
                                            v-if="spell.components.verbal || spell.components.somatic || spell.components.material != ''">
                                            Componentes:<br> <span v-if="spell.components.verbal">V
                                            </span><span v-if="spell.components.somatic">S </span><span
                                                v-if="spell.components.material != ''" data-bs-toggle="tooltip"
                                                :title="spell.components.material">M</span></p>

                                        <p class="block" v-if="spell.duration != ''">Duração: {{ spell.duration }}</p>
                                    </div>
                                    <p>{{ spell.description }}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div v-if="modal == 'Adicionar Magia'" class="modal-footer">
                        <div class="clearfix">
                            <button type="button" class="btn btn-secondary block primaryButton float-end"
                                @click="handleModalExhibition('Adicionar Nova Magia', false)">
                                Adicionar Nova Magia
                            </button>
                        </div>
                    </div>
                    <div v-if="modal == 'Adicionar Nova Magia'" id="modalBody" class="modal-body">
                        <div class="newFeature">
                            <div class="block">
                                Nome da Magia:
                                <input type="text" id="newSpellName">
                            </div>

                            <div class="block">
                                Escola da Magia:
                                <input type="text" id="newSpellSchool" placeholder="Evocação">
                                <br>
                                Nível da Magia:
                                <input type="number" id="newSpellLevel">
                                <br>
                                É Ritual?
                                <input type="checkbox" id="newSpellIsRitual">
                                <br>
                            </div>

                            <div class="block">
                                Classes que castam:
                                <input type="text" id="newSpellClasses" placeholder="Mago, Feiticeiro">
                                <br>
                            </div>

                            <div class="block">
                                Tempo de Conjuração:
                                <input type="number" id="newSpellCastTimeCount">
                                <select type="text" id="newSpellCastTimeType">
                                    <option value="action">Ação</option>
                                    <option value="reaction">Reação</option>
                                    <option value="bonusAction">Ação Bônus</option>
                                    <option value="minute">Minuto(s)</option>
                                    <option value="hour">Hora(s)</option>
                                    <option value="day">Dia(s)</option>
                                </select>
                                <br>
                            </div>

                            <div id="componentsForm" class="block">
                                Componente Verbal: <input type="checkbox" id="newSpellVerbalComponent">
                                Componente Somático: <input type="checkbox" id="newSpellSomaticComponent">
                                Componentes Materiais: <input type="text" id="newSpellMaterialComponent">
                            </div>
                            <br>

                            <div class="block">
                                Alcance:
                                <select id="newSpellRangeType" v-model="newSpell.range">
                                    <option value="meelee">Corpo a Corpo</option>
                                    <option value="ranged">Longo Alcance</option>
                                </select>
                                <p v-if="newSpell.range == 'ranged'">
                                    <input type="number" id="newSpellRange" placeholder="Distância"> metros
                                </p>
                            </div>

                            <div class="block">
                                Dano(s):
                                <div id="dmgHolder">
                                    <div class="damage block" v-for="damage of newSpell.damages">
                                        <p>Dano: {{ damage.numberOfDices }}{{ damage.diceType }}
                                            [{{ translateSpell(damage.damageType) }}]</p>
                                        <button class="btn btn-secondary block"
                                            @click="removeDamage(damage.id)">X</button>
                                    </div>
                                </div>
                                <div id="dmgForm">
                                    Quantidade de dados:
                                    <input type="number" id="newDmgDiceNumber">
                                    <br>
                                    Dado de dano:
                                    <select id="newDmgDiceType">
                                        <option value="d4">d4</option>
                                        <option value="d6">d6</option>
                                        <option value="d8">d8</option>
                                        <option value="d10">d10</option>
                                        <option value="d12">d12</option>
                                        <option value="d20">d20</option>
                                    </select>
                                    <br>
                                    Tipo de Dano:
                                    <select id="newDmgType">
                                        <option value="acid">Ácido</option>
                                        <option value="lightning">Elétrico</option>
                                        <option value="energy">Energia</option>
                                        <option value="physical">Físico (cortante, concussivo e perfurante)</option>
                                        <option value="fire">Fogo</option>
                                        <option value="cold">Frio</option>
                                        <option value="magical">Mágico (cortante, concussivo e perfurante)</option>
                                        <option value="necrotic">Necrótico</option>
                                        <option value="psychic">Psíquico</option>
                                        <option value="radiant">Radiante</option>
                                        <option value="acid">Ácido</option>
                                        <option value="thunder">Veneno</option>
                                    </select>
                                    <br>
                                    <button @click="listDamage()"
                                        class="btn btn-secondary block primaryButton">Adicionar
                                        Dano</button>
                                </div>
                                <br>
                            </div>

                            <div class="block">
                                Condições:
                                <div id="conditionHolder">
                                    <div class="condition block" v-for="condition of newSpell.conditions">
                                        <p>Nome: {{condition.name}}</p>
                                        <p>Duração: {{condition.duration}}</p>
                                        <button class="btn btn-secondary block"
                                            @click="removeCondition(condition.id)">X</button>
                                    </div>
                                </div>
                                <div id="conditionForm">
                                    Nome da Condição:
                                    <input type="text" id="newConditionName">

                                    Duração da Condição:
                                    <input type="text" id="newConditionDuration">

                                    <button @click="listCondition()"
                                        class="btn btn-secondary block primaryButton">Adicionar
                                        Condição</button>
                                </div>
                                <br>
                            </div>

                            <div class="block">
                                Duração:
                                <input type="text" id="newSpellDuration">
                            </div>

                            <div class="block">
                                Descrição:
                                <textarea class="formDescription block" id="newSpellDescription"></textarea>

                                Origem:
                                <input type="text" id="newSpellOrigin">
                            </div>
                        </div>
                    </div>
                    <div v-if="modal == 'Adicionar Nova Magia'" class="modal-footer">
                        <div class="clearfix">
                            <button type="button" class="btn btn-secondary block primaryButton float-start"
                                @click="handleModalExhibition('Adicionar Magia', false)">
                                Voltar
                            </button>
                            <button type="button" class="btn btn-secondary block primaryButton float-end"
                                onclick="addNewSpell()">
                                Adicionar
                            </button>
                        </div>
                    </div>
                    <div v-if="modal == 'Editar Magia'" id="modalBody" class="modal-body">
                        <div class="newFeature">
                            <div class="block">
                                Nome da Magia:
                                <input type="text" id="edittedSpellName" v-model="edittedSpell.name">
                            </div>

                            <div class="block">
                                Escola da Magia:
                                <input type="text" id="edittedSpellSchool" v-model="edittedSpell.school"
                                    placeholder="Evocação">
                                <br>
                                Nível da Magia:
                                <input type="number" id="edittedSpellLevel" v-model="edittedSpell.level">
                                <br>
                                É Ritual?
                                <input type="checkbox" id="edittedSpellIsRitual" v-model="edittedSpell.casting.ritual">
                                <br>
                            </div>

                            <div class="block">
                                Classes que castam:
                                <input type="text" id="edittedSpellClasses" placeholder="Mago, Feiticeiro"
                                    v-model="edittedSpell.classes">
                                <br>
                            </div>

                            <div class="block">
                                Tempo de Conjuração:
                                <input type="number" id="edittedSpellCastTimeCount" v-model="edittedSpell.casting.time">
                                <select type="text" id="edittedSpellCastTimeType" v-model="edittedSpell.casting.type">
                                    <option value="action">Ação</option>
                                    <option value="reaction">Reação</option>
                                    <option value="bonusAction">Ação Bônus</option>
                                    <option value="minute">Minuto(s)</option>
                                    <option value="hour">Hora(s)</option>
                                    <option value="day">Dia(s)</option>
                                </select>
                                <br>
                            </div>

                            <div id="componentsForm" class="block">
                                Componente Verbal: <input type="checkbox" id="edittedSpellVerbalComponent"
                                    v-model="edittedSpell.components.verbal">
                                Componente Somático: <input type="checkbox" id="edittedSpellSomaticComponent"
                                    v-model="edittedSpell.components.somatic">
                                Componentes Materiais: <input type="text" id="edittedSpellMaterialComponent"
                                    v-model="edittedSpell.components.material">
                            </div>
                            <br>

                            <div class="block">
                                Alcance:
                                <select id="edittedSpellRangeType" v-model="edittedSpell.range.type">
                                    <option value="meelee">Corpo a Corpo</option>
                                    <option value="ranged">Longo Alcance</option>
                                </select>
                                <p v-if="edittedSpell.range.type == 'ranged'">
                                    <input type="number" id="edittedSpellRange" placeholder="Distância"
                                        v-model="edittedSpell.range.distance">
                                </p>
                            </div>

                            <div class="block">
                                Dano(s):
                                <div id="dmgHolder">
                                    <div class="damage block" v-for="damage of edittedSpell.damages">
                                        <p>Dano: {{ damage.numberOfDices }}{{ damage.diceType }}
                                            [{{ translateSpell(damage.damageType) }}]</p>
                                        <button class="btn btn-secondary block"
                                            @click="removeDamageFromEdittedSpell(damage.id)">X</button>
                                    </div>
                                </div>
                                <div id="dmgForm">
                                    Quantidade de dados:
                                    <input type="number" id="newDmgDiceNumber">
                                    <br>
                                    Dado de dano:
                                    <select id="newDmgDiceType">
                                        <option value="d4">d4</option>
                                        <option value="d6">d6</option>
                                        <option value="d8">d8</option>
                                        <option value="d10">d10</option>
                                        <option value="d12">d12</option>
                                        <option value="d20">d20</option>
                                    </select>
                                    <br>
                                    Tipo de Dano:
                                    <select id="newDmgType">
                                        <option value="acid">Ácido</option>
                                        <option value="lightning">Elétrico</option>
                                        <option value="energy">Energia</option>
                                        <option value="physical">Físico (cortante, concussivo e perfurante)</option>
                                        <option value="fire">Fogo</option>
                                        <option value="cold">Frio</option>
                                        <option value="magical">Mágico (cortante, concussivo e perfurante)</option>
                                        <option value="necrotic">Necrótico</option>
                                        <option value="psychic">Psíquico</option>
                                        <option value="radiant">Radiante</option>
                                        <option value="acid">Ácido</option>
                                        <option value="thunder">Veneno</option>
                                    </select>
                                    <br>
                                    <button @click="listDamageToEdittedSpell()"
                                        class="btn btn-secondary block primaryButton">Adicionar
                                        Dano</button>
                                </div>
                                <br>
                            </div>

                            <div class="block">
                                Condições:
                                <div id="conditionHolder">
                                    <div class="condition block" v-for="condition of edittedSpell.conditions">
                                        <p>Nome: {{condition.name}}</p>
                                        <p>Duração: {{condition.duration}}</p>
                                        <button class="btn btn-secondary block"
                                            @click="removeConditionFromEdittedSpell(condition.id)">X</button>
                                    </div>
                                </div>
                                <div id="conditionForm">
                                    Nome da Condição:
                                    <input type="text" id="newConditionName">

                                    Duração da Condição:
                                    <input type="text" id="newConditionDuration">

                                    <button @click="listConditionToEdittedSpell()"
                                        class="btn btn-secondary block primaryButton">Adicionar
                                        Condição</button>
                                </div>
                                <br>
                            </div>

                            <div class="block">
                                Duração:
                                <input type="text" id="edittedSpellDuration">
                            </div>

                            <div class="block">
                                Descrição:
                                <textarea class="formDescription block" id="edittedSpellDescription"
                                    v-model="edittedSpell.description"></textarea>

                                Origem:
                                <input type="text" id="edittedSpellOrigin" v-model="edittedSpell.origin">
                            </div>
                        </div>
                    </div>
                    <div v-if="modal == 'Editar Magia'" class="modal-footer">
                        <div class="clearfix">
                            <button type="button" class="btn btn-secondary block primaryButton float-start"
                                @click="handleModalExhibition('Adicionar Magia', false)">
                                Voltar
                            </button>
                            <button type="button" class="btn btn-secondary block primaryButton float-end"
                                @click="saveSpellToDB()">
                                Salvar
                            </button>
                        </div>
                    </div>
                    <div v-if="modal == 'Magia'" id="modalBody" class="modal-body">
                        <div class="sequencial">
                            <p class="listedTitle">{{ selectedSpell.name }}</p>

                            <button @click="removeCharacterSpell(selectedSpell.id)"
                                class="btn btn-secondary block primaryButton deleter" data-bs-dismiss="modal">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                                    class="bi bi-trash2-fill" viewBox="0 0 16 16">
                                    <path
                                        d="M2.037 3.225A.703.703 0 0 1 2 3c0-1.105 2.686-2 6-2s6 .895 6 2a.702.702 0 0 1-.037.225l-1.684 10.104A2 2 0 0 1 10.305 15H5.694a2 2 0 0 1-1.973-1.671L2.037 3.225zm9.89-.69C10.966 2.214 9.578 2 8 2c-1.58 0-2.968.215-3.926.534-.477.16-.795.327-.975.466.18.14.498.307.975.466C5.032 3.786 6.42 4 8 4s2.967-.215 3.926-.534c.477-.16.795-.327.975-.466-.18-.14-.498-.307-.975-.466z" />
                                </svg>
                            </button>
                        </div>
                        <div class="description block">
                            <div class="details">
                                <p class="block" v-if="selectedSpell.level != ''">Nível {{
                                    selectedSpell.level }}<br><span v-if="selectedSpell.school != ''">{{
                                        selectedSpell.school }}</span><span v-if="selectedSpell.casting.ritual">
                                        (ritual)</span></p>

                                <p class="block" v-if="selectedSpell.casting">Conjuração:<br> {{
                                    selectedSpell.casting.time }}
                                    {{ translateSpell(selectedSpell.casting.type) }}</p>

                                <p class="block" v-if="selectedSpell.range.type != ''">Alcance:<br>
                                    <span v-if="selectedSpell.range.type == 'ranged'">{{
                                        selectedSpell.range.distance }}
                                        metros</span><span v-if="selectedSpell.range.type == 'meelee'">Corpo a
                                        Corpo</span>
                                </p>

                                <p class="block"
                                    v-if="selectedSpell.components.verbal || selectedSpell.components.somatic || selectedSpell.components.material != ''">
                                    Componentes:<br> <span v-if="selectedSpell.components.verbal">V
                                    </span><span v-if="selectedSpell.components.somatic">S
                                    </span><span v-if="selectedSpell.components.material != ''" data-bs-toggle="tooltip"
                                        :title="selectedSpell.components.material">M</span></p>

                                <p class="block" v-if="selectedSpell.duration != ''">Duração: {{
                                    selectedSpell.duration }}</p>
                            </div>
                            <p>{{ selectedSpell.description }}</p>
                        </div>
                    </div>
                    <div v-if="modal == 'Matar Personagem'" id="modalBody" class="modal-body">
                        Você deseja apagar todas as aventuras, lembranças, amizades e conquistas deste personagem?
                    </div>
                    <div v-if="modal == 'Matar Personagem'" class="modal-footer">
                        <div class="clearfix">
                            <button type="button" class="btn btn-secondary block primaryButton float-start"
                                data-bs-dismiss="modal">
                                cancelar
                            </button>
                            <button type="button" class="btn btn-secondary block primaryButton float-end"
                                @click="deleteCharacter(editItem.characterId)" data-bs-dismiss="modal">
                                Matar
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="../js/vue.min.js"></script>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script src="../js/popper.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="../js/app.js"></script>
    <script src="../js/sheetOperations.js"></script>
    <script src="../js/itemsOperations.js"></script>
</body>

</html>