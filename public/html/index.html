<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../fonts/Poppins.css">
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/global.css">
    <link rel="stylesheet" href="../css/homeScreen.css">
    <link rel="stylesheet" href="../css/characterSheet.css">
    <title>Character Sheet</title>
</head>

<body>
    <div id="app" v-cloak>
        <transition-group :duration="300" name="page" mode="out-in" appear>
            <div id="homePage" v-if="showHomePage" :key="0" class="appPage">
                <h1>Character Sheet</h1>
                <div class="block addNewCharacterHolder" class="input-group">
                    <input type="text" placeholder="Novo Personagem" id="newCharacterName"
                        aria-describedby="addCharacter">
                    <button id="addCharacter" class="addCharacter input-group-text" onclick="addNewCharacter()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                            class="bi bi-box-arrow-in-right" viewBox="0 0 16 16">
                            <path fill-rule="evenodd"
                                d="M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0v-2z" />
                            <path fill-rule="evenodd"
                                d="M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z" />
                        </svg>
                    </button>
                </div>
                <div id="homeScreenCharacterList" v-if="charactersList.length > 0" class="block">
                    <div v-for="character in charactersList" class="listedCharacterHolder btn-group" role="group">
                        <button type="button" class="btn listedCharacter"
                            @click="loadCharacterSheet(character.characterId)">
                            {{ character.name }}
                        </button>
                        <button type="button" class="btn btn-danger deleteCharacter"
                            @click="deleteCharacter(character.characterId)">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                                class="bi bi-x-octagon" viewBox="0 0 16 16">
                                <path
                                    d="M4.54.146A.5.5 0 0 1 4.893 0h6.214a.5.5 0 0 1 .353.146l4.394 4.394a.5.5 0 0 1 .146.353v6.214a.5.5 0 0 1-.146.353l-4.394 4.394a.5.5 0 0 1-.353.146H4.893a.5.5 0 0 1-.353-.146L.146 11.46A.5.5 0 0 1 0 11.107V4.893a.5.5 0 0 1 .146-.353L4.54.146zM5.1 1 1 5.1v5.8L5.1 15h5.8l4.1-4.1V5.1L10.9 1H5.1z" />
                                <path
                                    d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z" />
                            </svg>
                        </button>
                    </div>
                </div>
            </div>

            <div id="characterSheet" v-if="showCharacterSheet" :key="1" class="appPage">
                <div id="header" class="block">
                    <button id="backToHomePage" class="block" onclick="backToHomePage()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor"
                            class="bi bi-chevron-bar-right" viewBox="-4 -1 22 22">
                            <path fill-rule="evenodd"
                                d="M4.146 3.646a.5.5 0 0 0 0 .708L7.793 8l-3.647 3.646a.5.5 0 0 0 .708.708l4-4a.5.5 0 0 0 0-.708l-4-4a.5.5 0 0 0-.708 0zM11.5 1a.5.5 0 0 1 .5.5v13a.5.5 0 0 1-1 0v-13a.5.5 0 0 1 .5-.5z" />
                        </svg>
                    </button>

                    <input id="characterName" class="block" type="text" v-model="selectedCharacter.name">

                    <div class="characterInfo block">
                        <div>
                            <div id="classes">
                                <button type="button" class="btn btn-secondary block primaryButton"
                                    @click="handleModalExhibition('Classes')">
                                    {{ selectedCharacter.classes[0]?.name ?? 'Classes' }}{{
                                    selectedCharacter.classes[0]?.value ? ', ' + selectedCharacter.classes[0].value :
                                    ''}}
                                </button>
                            </div>
                            <div id="race">
                                <input type="text" placeholder="Raça" v-model="selectedCharacter.race">
                            </div>
                        </div>
                        <div>
                            <div id="background">
                                <input type="text" placeholder="Passado" v-model="selectedCharacter.background">
                            </div>
                            <div id="alignment">
                                <input type="text" placeholder="Alinhamento" v-model="selectedCharacter.alignment">
                            </div>
                        </div>
                    </div>
                </div>

                <div id="score" class="block">
                    <transition-group name="habilityScoresTransition" appear>
                        <div id="proficiencyBonus" class="block scoreComplement" :key="0" v-if="showHabilityScores[0]">
                            Bônus de Proficiência:
                            {{ proficiencyBonus }}
                        </div>
                        <div id="inspiration" class="block scoreComplement" :key="1" v-if="showHabilityScores[1]">
                            Inspirações: <input id="inspirationInput" type="number"
                                v-model="selectedCharacter.inspirationPoints">
                        </div>
                        <div id="strength" class="block hability" :key="2" v-if="showHabilityScores[2]">
                            <b>Força</b>
                            <div class="habilityScore">
                                <div class="mainHability">
                                    <input type="text" v-model="selectedCharacter.strength">
                                    <div class="baseModidier">{{ selectedCharacter.baseModifiers.strength }}</div>
                                </div>
                                <div class="skills block">
                                    <div v-for="skill in selectedCharacter.skillScores.strength" class="habilitySkill">
                                        <button class="skillProficiency"
                                            @click="updateProficiencyArrays(skill.name, 'strength')">
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'none'"
                                                width="16" height="16" fill="currentColor" class="bi bi-record"
                                                viewBox="2 2 14 14">
                                                <path
                                                    d="M8 12a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0 1A5 5 0 1 0 8 3a5 5 0 0 0 0 10z" />
                                            </svg>
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'half'"
                                                width="16" height="16" fill="currentColor" class="bi bi-circle-half"
                                                viewBox="-2 -2 24 24">
                                                <path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z" />
                                            </svg>
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'full'"
                                                width="16" height="16" fill="currentColor" class="bi bi-circle-fill"
                                                viewBox="-2 -2 24 24">
                                                <circle cx="8" cy="8" r="8" />
                                            </svg>
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'double'"
                                                width="16" height="16" fill="currentColor" class="bi bi-record2-fill"
                                                viewBox="2 2 14 14">
                                                <path d="M10 8a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" />
                                                <path
                                                    d="M8 13A5 5 0 1 0 8 3a5 5 0 0 0 0 10zm0-2a3 3 0 1 1 0-6 3 3 0 0 1 0 6z" />
                                            </svg>
                                        </button>
                                        <div class="skillModifier"> {{ skill.modifier }} </div>
                                        <div class="skillName">{{ translate(skill.name) }}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="dexterity" class="block hability" :key="3" v-if="showHabilityScores[3]">
                            <b>Destreza</b>
                            <div class="habilityScore">
                                <div class="mainHability">
                                    <input type="text" v-model="selectedCharacter.dexterity">
                                    <div class="baseModidier">{{ selectedCharacter.baseModifiers.dexterity }}</div>
                                </div>
                                <div class="skills block">
                                    <div v-for="skill in selectedCharacter.skillScores.dexterity" class="habilitySkill">
                                        <button class="skillProficiency"
                                            @click="updateProficiencyArrays(skill.name, 'dexterity')">
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'none'"
                                                width="16" height="16" fill="currentColor" class="bi bi-record"
                                                viewBox="2 2 14 14">
                                                <path
                                                    d="M8 12a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0 1A5 5 0 1 0 8 3a5 5 0 0 0 0 10z" />
                                            </svg>
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'half'"
                                                width="16" height="16" fill="currentColor" class="bi bi-circle-half"
                                                viewBox="-2 -2 24 24">
                                                <path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z" />
                                            </svg>
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'full'"
                                                width="16" height="16" fill="currentColor" class="bi bi-circle-fill"
                                                viewBox="-2 -2 24 24">
                                                <circle cx="8" cy="8" r="8" />
                                            </svg>
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'double'"
                                                width="16" height="16" fill="currentColor" class="bi bi-record2-fill"
                                                viewBox="2 2 14 14">
                                                <path d="M10 8a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" />
                                                <path
                                                    d="M8 13A5 5 0 1 0 8 3a5 5 0 0 0 0 10zm0-2a3 3 0 1 1 0-6 3 3 0 0 1 0 6z" />
                                            </svg>
                                        </button>
                                        <div class="skillModifier"> {{ skill.modifier }} </div>
                                        <div class="skillName">{{ translate(skill.name) }}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="constitution" class="block hability" :key="4" v-if="showHabilityScores[4]">
                            <b>Constituição</b>
                            <div class="habilityScore">
                                <div class="mainHability">
                                    <input type="text" v-model="selectedCharacter.constitution">
                                    <div class="baseModidier">{{ selectedCharacter.baseModifiers.constitution }}</div>
                                </div>
                            </div>
                        </div>
                        <div id="inteligence" class="block hability" :key="5" v-if="showHabilityScores[5]">
                            <b>Inteligência</b>
                            <div class="habilityScore">
                                <div class="mainHability">
                                    <input type="text" v-model="selectedCharacter.inteligence">
                                    <div class="baseModidier">{{ selectedCharacter.baseModifiers.inteligence }}</div>
                                </div>
                                <div class="skills block">
                                    <div v-for="skill in selectedCharacter.skillScores.inteligence"
                                        class="habilitySkill">
                                        <button class="skillProficiency"
                                            @click="updateProficiencyArrays(skill.name, 'inteligence')">
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'none'"
                                                width="16" height="16" fill="currentColor" class="bi bi-record"
                                                viewBox="2 2 14 14">
                                                <path
                                                    d="M8 12a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0 1A5 5 0 1 0 8 3a5 5 0 0 0 0 10z" />
                                            </svg>
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'half'"
                                                width="16" height="16" fill="currentColor" class="bi bi-circle-half"
                                                viewBox="-2 -2 24 24">
                                                <path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z" />
                                            </svg>
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'full'"
                                                width="16" height="16" fill="currentColor" class="bi bi-circle-fill"
                                                viewBox="-2 -2 24 24">
                                                <circle cx="8" cy="8" r="8" />
                                            </svg>
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'double'"
                                                width="16" height="16" fill="currentColor" class="bi bi-record2-fill"
                                                viewBox="2 2 14 14">
                                                <path d="M10 8a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" />
                                                <path
                                                    d="M8 13A5 5 0 1 0 8 3a5 5 0 0 0 0 10zm0-2a3 3 0 1 1 0-6 3 3 0 0 1 0 6z" />
                                            </svg>
                                        </button>
                                        <div class="skillModifier"> {{ skill.modifier }} </div>
                                        <div class="skillName">{{ translate(skill.name) }}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="wisdom" class="block hability" :key="6" v-if="showHabilityScores[6]">
                            <b>Sabedoria</b>
                            <div class="habilityScore">
                                <div class="mainHability">
                                    <input type="text" v-model="selectedCharacter.wisdom">
                                    <div class="baseModidier">{{ selectedCharacter.baseModifiers.wisdom }}</div>
                                </div>
                                <div class="skills block">
                                    <div v-for="skill in selectedCharacter.skillScores.wisdom" class="habilitySkill">
                                        <button class="skillProficiency"
                                            @click="updateProficiencyArrays(skill.name, 'wisdom')">
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'none'"
                                                width="16" height="16" fill="currentColor" class="bi bi-record"
                                                viewBox="2 2 14 14">
                                                <path
                                                    d="M8 12a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0 1A5 5 0 1 0 8 3a5 5 0 0 0 0 10z" />
                                            </svg>
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'half'"
                                                width="16" height="16" fill="currentColor" class="bi bi-circle-half"
                                                viewBox="-2 -2 24 24">
                                                <path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z" />
                                            </svg>
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'full'"
                                                width="16" height="16" fill="currentColor" class="bi bi-circle-fill"
                                                viewBox="-2 -2 24 24">
                                                <circle cx="8" cy="8" r="8" />
                                            </svg>
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'double'"
                                                width="16" height="16" fill="currentColor" class="bi bi-record2-fill"
                                                viewBox="2 2 14 14">
                                                <path d="M10 8a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" />
                                                <path
                                                    d="M8 13A5 5 0 1 0 8 3a5 5 0 0 0 0 10zm0-2a3 3 0 1 1 0-6 3 3 0 0 1 0 6z" />
                                            </svg>
                                        </button>
                                        <div class="skillModifier"> {{ skill.modifier }} </div>
                                        <div class="skillName">{{ translate(skill.name) }}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="charisma" class="block hability" :key="7" v-if="showHabilityScores[7]">
                            <b>Carisma</b>
                            <div class="habilityScore">
                                <div class="mainHability">
                                    <input type="text" v-model="selectedCharacter.charisma">
                                    <div class="baseModidier">{{ selectedCharacter.baseModifiers.charisma }}</div>
                                </div>
                                <div class="skills block">
                                    <div v-for="skill in selectedCharacter.skillScores.charisma" class="habilitySkill">
                                        <button class="skillProficiency"
                                            @click="updateProficiencyArrays(skill.name, 'charisma')">
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'none'"
                                                width="16" height="16" fill="currentColor" class="bi bi-record"
                                                viewBox="2 2 14 14">
                                                <path
                                                    d="M8 12a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0 1A5 5 0 1 0 8 3a5 5 0 0 0 0 10z" />
                                            </svg>
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'half'"
                                                width="16" height="16" fill="currentColor" class="bi bi-circle-half"
                                                viewBox="-2 -2 24 24">
                                                <path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z" />
                                            </svg>
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'full'"
                                                width="16" height="16" fill="currentColor" class="bi bi-circle-fill"
                                                viewBox="-2 -2 24 24">
                                                <circle cx="8" cy="8" r="8" />
                                            </svg>
                                            <svg xmlns="http://www.w3.org/2000/svg" v-if="skill.proficiency == 'double'"
                                                width="16" height="16" fill="currentColor" class="bi bi-record2-fill"
                                                viewBox="2 2 14 14">
                                                <path d="M10 8a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" />
                                                <path
                                                    d="M8 13A5 5 0 1 0 8 3a5 5 0 0 0 0 10zm0-2a3 3 0 1 1 0-6 3 3 0 0 1 0 6z" />
                                            </svg>
                                        </button>
                                        <div class="skillModifier"> {{ skill.modifier }} </div>
                                        <div class="skillName">{{ translate(skill.name) }}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="passiveWisdom" class="block scoreComplement" :key="8" v-if="showHabilityScores[8]">
                            Percepção Passiva: <div id="passiveWisdomInput">{{ passiveWisdom }}</div>
                        </div>
                    </transition-group>
                </div>

                <div id="combat" class="block">
                    <div class="firstRow">
                        <div id="armorClass" class="block">
                            <input type="text" v-model="selectedCharacter.armorClass">
                        </div>
                        <div id="initiative" class="block">
                            <input type="text" v-model="selectedCharacter.initiative">
                        </div>
                        <div id="speeds" class="block">
                            <button type="button" class="btn btn-secondary block primaryButton"
                                @click="handleModalExhibition('Movimentos')">
                                {{ selectedCharacter.speedArray[0]?.value ?? '' }}
                            </button>
                        </div>
                    </div>
                    <div id="hitPoints">
                        <div class="maximum">
                            <input type="text" v-model="selectedCharacter.hitPoints.maximum">
                        </div>
                        <div class="floatable">
                            <div class="current">
                                <input type="text" v-model="selectedCharacter.hitPoints.current">
                            </div>
                            <div class="temporary">
                                <input type="text" v-model="selectedCharacter.hitPoints.temporary">
                            </div>
                        </div>
                    </div>
                    <div class="lastRow">
                        <div id="hitDices">
                            <input class="type" type="text" v-model="selectedCharacter.hitDices.type">
                            <input class="current" type="text" v-model="selectedCharacter.hitDices.current">
                        </div>
                        <div id="deathSaves">
                            <div class="block" onclick="updateSaves('successes')">
                                Sucessos:
                                <div class="progress">
                                    <div id="successes"
                                        class="progress-bar bg-success progress-bar-striped progress-bar-animated"
                                        role="progressbar" v-bind:style="successesStyle"
                                        :aria-valuenow="selectedCharacter.deathSaves.successes" aria-valuemin="0"
                                        aria-valuemax="99"></div>
                                </div>
                            </div>

                            <div class="block" onclick="updateSaves('failures')">
                                Falhas:
                                <div class="progress">
                                    <div id="failures"
                                        class="progress-bar bg-danger progress-bar-striped progress-bar-animated"
                                        role="progressbar" v-bind:style="failuresStyle"
                                        aria-valuenow="selectedCharacter.deathSaves.failures" aria-valuemin="0"
                                        aria-valuemax="99"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="personality" class="block">
                    <div id="traits">
                        <button type="button" class="btn btn-secondary block primaryButton"
                            @click="handleModalExhibition('Traços de Personalidade')"> Traços de Personalidade
                        </button>
                    </div>
                    <div id="ideals">
                        <button type="button" class="btn btn-secondary block primaryButton"
                            @click="handleModalExhibition('Objetivos')"> Objetivos
                        </button>
                    </div>
                    <div id="bonds">
                        <button type="button" class="btn btn-secondary block primaryButton"
                            @click="handleModalExhibition('Laços')"> Laços
                        </button>
                    </div>
                    <div id="flaws">
                        <button type="button" class="btn btn-secondary block primaryButton"
                            @click="handleModalExhibition('Defeitos')"> Defeitos
                        </button>
                    </div>
                </div>

                <div id="otherProficiencies" class="block">
                    <div class="languages">
                        Línguas: <br>
                        <input type="text" v-model="selectedCharacter.otherProficiencies.languages">
                    </div>
                    <div class="armors">
                        Armaduras: <br>
                        <input type="text" v-model="selectedCharacter.otherProficiencies.armors">
                    </div>
                    <div class="weapons">
                        Armas: <br>
                        <input type="text" v-model="selectedCharacter.otherProficiencies.weapons">
                    </div>
                    <div class="tools">
                        Ferramentas ou Instrumentos: <br>
                        <input type="text" v-model="selectedCharacter.otherProficiencies.tools">
                    </div>
                </div>

                <div id="actions" class="block">
                    <button class="btn block" @click="handleModalExhibition('Ações')">
                        <div v-if="selectedCharacter.actions.main.length > 0">
                            <div class="listedFeature" v-for></div>
                        </div>
                        <p v-else>Ações</p>
                    </button>

                    <button class="btn block" @click="handleModalExhibition('Ações Bônus')">
                        <div v-if="selectedCharacter.actions.bonus.length > 0">
                            <div class="listedFeature" v-for></div>
                        </div>
                        <p v-else>Ações Bônus</p>
                    </button>

                    <button class="btn block" @click="handleModalExhibition('Reações')">
                        <div v-if="selectedCharacter.actions.reactions.length > 0">
                            <div class="listedFeature" v-for></div>
                        </div>
                        <p v-else>Reações</p>
                    </button>
                </div>

                <div id="features">
                    <button class="btn block" @click="handleModalExhibition('Habilidades')">
                        <div v-if="selectedCharacter.featuresArray.length > 0">
                            <div class="listedFeature" v-for></div>
                        </div>
                        <p v-else>Habilidades</p>
                    </button>
                </div>

                <div id="currency" class="block">
                    <div class="platin">
                        Platina:
                        <input type="number" v-model="selectedCharacter.currency.platin">
                    </div>
                    <div class="gold">
                        Ouro:
                        <input type="number" v-model="selectedCharacter.currency.gold">
                    </div>
                    <div class="silver">
                        Prata:
                        <input type="number" v-model="selectedCharacter.currency.silver">
                    </div>
                    <div class="copper">
                        Cobre:
                        <input type="number" v-model="selectedCharacter.currency.copper">
                    </div>
                </div>

                <div id="equipment">
                    <button type="button" class="btn btn-secondary block primaryButton"
                        @click="handleModalExhibition('Equipamentos')">
                        Equipamentos
                    </button>
                </div>
            </div>
        </transition-group>

        <div class="modal fade" id="modal" tabindex="-1" aria-labelledby="modalTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                <div class="modal-content modal-block">
                    <div class="modal-header">
                        <h5 class="modal-title" id="modalTitle"> {{ modal }} </h5>
                    </div>
                    <div v-if="modal == 'Classes'" id="modalBody" class="modal-body">
                        <div v-if="selectedCharacter.classes.length > 0" id="classesList" class="input-group block">
                            <ul>
                                <li v-for="(classe, index) in selectedCharacter['classes']">
                                    {{ classe.name }}: <input type="number"
                                        v-model="selectedCharacter['classes'][index]['value']">
                                </li>
                            </ul>
                        </div>
                        <div class="input-group">
                            <input type="text" placeholder="Nova Classe" id="newClassName">
                            <button type="button" class="input-group-text" onclick="addNewClass()">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                                    class="bi bi-box-arrow-in-right" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd"
                                        d="M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0v-2z" />
                                    <path fill-rule="evenodd"
                                        d="M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z" />
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div v-if="modal == 'Movimentos'" id="modalBody" class="modal-body">
                        <div v-if="selectedCharacter.speedArray.length > 0" id="movementsList"
                            class="input-group block">
                            <ul>
                                <li v-for="(move, index) in selectedCharacter['speedArray']">
                                    <div class="block">
                                        {{ move.name}}: <input type="number"
                                            v-model="selectedCharacter['speedArray'][index]['value']"> <button
                                            @click="deleteMovement(index)" class="deleter">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                                fill="currentColor" class="bi bi-trash2-fill" viewBox="0 0 16 16">
                                                <path
                                                    d="M2.037 3.225A.703.703 0 0 1 2 3c0-1.105 2.686-2 6-2s6 .895 6 2a.702.702 0 0 1-.037.225l-1.684 10.104A2 2 0 0 1 10.305 15H5.694a2 2 0 0 1-1.973-1.671L2.037 3.225zm9.89-.69C10.966 2.214 9.578 2 8 2c-1.58 0-2.968.215-3.926.534-.477.16-.795.327-.975.466.18.14.498.307.975.466C5.032 3.786 6.42 4 8 4s2.967-.215 3.926-.534c.477-.16.795-.327.975-.466-.18-.14-.498-.307-.975-.466z" />
                                            </svg>
                                        </button>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <div class="input-group">
                            <input type="text" placeholder="Novo Movimento" id="newSpeedName">
                            <button type="button" class="input-group-text" onclick="addNewSpeed()">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                                    class="bi bi-box-arrow-in-right" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd"
                                        d="M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0v-2z" />
                                    <path fill-rule="evenodd"
                                        d="M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z" />
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div v-if="modal == 'Traços de Personalidade'" id="modalBody" class="modal-body">
                        <div v-if="selectedCharacter.personalityTraitsArray.length > 0" id="personalityTraitsList"
                            class="input-group block">
                            <ul>
                                <li v-for="(trait, index) in selectedCharacter['personalityTraitsArray']">
                                    <div class="block">
                                        {{ trait }}
                                        <button @click="deleteTrait(index)" class="deleter">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                                fill="currentColor" class="bi bi-trash2-fill" viewBox="0 0 16 16">
                                                <path
                                                    d="M2.037 3.225A.703.703 0 0 1 2 3c0-1.105 2.686-2 6-2s6 .895 6 2a.702.702 0 0 1-.037.225l-1.684 10.104A2 2 0 0 1 10.305 15H5.694a2 2 0 0 1-1.973-1.671L2.037 3.225zm9.89-.69C10.966 2.214 9.578 2 8 2c-1.58 0-2.968.215-3.926.534-.477.16-.795.327-.975.466.18.14.498.307.975.466C5.032 3.786 6.42 4 8 4s2.967-.215 3.926-.534c.477-.16.795-.327.975-.466-.18-.14-.498-.307-.975-.466z" />
                                            </svg>
                                        </button>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <div class="input-group">
                            <input type="text" placeholder="Novo Traço" id="newTrait">
                            <button type="button" class="input-group-text" onclick="addNewTrait()">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                                    class="bi bi-box-arrow-in-right" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd"
                                        d="M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0v-2z" />
                                    <path fill-rule="evenodd"
                                        d="M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z" />
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div v-if="modal == 'Objetivos'" id="modalBody" class="modal-body">
                        <div v-if="selectedCharacter.idealsArray.length > 0" id="idealsList" class="input-group block">
                            <ul>
                                <li v-for="(ideal, index) in selectedCharacter['idealsArray']">
                                    <div class="block">
                                        {{ ideal }}
                                        <button @click="deleteIdeal(index)" class="deleter">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                                fill="currentColor" class="bi bi-trash2-fill" viewBox="0 0 16 16">
                                                <path
                                                    d="M2.037 3.225A.703.703 0 0 1 2 3c0-1.105 2.686-2 6-2s6 .895 6 2a.702.702 0 0 1-.037.225l-1.684 10.104A2 2 0 0 1 10.305 15H5.694a2 2 0 0 1-1.973-1.671L2.037 3.225zm9.89-.69C10.966 2.214 9.578 2 8 2c-1.58 0-2.968.215-3.926.534-.477.16-.795.327-.975.466.18.14.498.307.975.466C5.032 3.786 6.42 4 8 4s2.967-.215 3.926-.534c.477-.16.795-.327.975-.466-.18-.14-.498-.307-.975-.466z" />
                                            </svg>
                                        </button>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <div class="input-group">
                            <input type="text" placeholder="Novo Objetivo" id="newIdeal">
                            <button type="button" class="input-group-text" onclick="addNewIdeal()">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                                    class="bi bi-box-arrow-in-right" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd"
                                        d="M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0v-2z" />
                                    <path fill-rule="evenodd"
                                        d="M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z" />
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div v-if="modal == 'Laços'" id="modalBody" class="modal-body">
                        <div v-if="selectedCharacter.bondsArray.length > 0" id="bondsList" class="input-group block">
                            <ul>
                                <li v-for="(bond, index) in selectedCharacter['bondsArray']">
                                    <div class="block">
                                        {{ bond }}
                                        <button @click="deleteBond(index)" class="deleter">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                                fill="currentColor" class="bi bi-trash2-fill" viewBox="0 0 16 16">
                                                <path
                                                    d="M2.037 3.225A.703.703 0 0 1 2 3c0-1.105 2.686-2 6-2s6 .895 6 2a.702.702 0 0 1-.037.225l-1.684 10.104A2 2 0 0 1 10.305 15H5.694a2 2 0 0 1-1.973-1.671L2.037 3.225zm9.89-.69C10.966 2.214 9.578 2 8 2c-1.58 0-2.968.215-3.926.534-.477.16-.795.327-.975.466.18.14.498.307.975.466C5.032 3.786 6.42 4 8 4s2.967-.215 3.926-.534c.477-.16.795-.327.975-.466-.18-.14-.498-.307-.975-.466z" />
                                            </svg>
                                        </button>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <div class="input-group">
                            <input type="text" placeholder="Novo Laço" id="newBond">
                            <button type="button" class="input-group-text" onclick="addNewBond()">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                                    class="bi bi-box-arrow-in-right" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd"
                                        d="M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0v-2z" />
                                    <path fill-rule="evenodd"
                                        d="M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z" />
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div v-if="modal == 'Defeitos'" id="modalBody" class="modal-body">
                        <div v-if="selectedCharacter.flawsArray.length > 0" id="flawsList" class="input-group block">
                            <ul>
                                <li v-for="(flaw, index) in selectedCharacter['flawsArray']">
                                    <div class="block">
                                        {{ flaw }}
                                        <button @click="deleteFlaw(index)" class="deleter">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                                fill="currentColor" class="bi bi-trash2-fill" viewBox="0 0 16 16">
                                                <path
                                                    d="M2.037 3.225A.703.703 0 0 1 2 3c0-1.105 2.686-2 6-2s6 .895 6 2a.702.702 0 0 1-.037.225l-1.684 10.104A2 2 0 0 1 10.305 15H5.694a2 2 0 0 1-1.973-1.671L2.037 3.225zm9.89-.69C10.966 2.214 9.578 2 8 2c-1.58 0-2.968.215-3.926.534-.477.16-.795.327-.975.466.18.14.498.307.975.466C5.032 3.786 6.42 4 8 4s2.967-.215 3.926-.534c.477-.16.795-.327.975-.466-.18-.14-.498-.307-.975-.466z" />
                                            </svg>
                                        </button>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <div class="input-group">
                            <input type="text" placeholder="Novo Defeito" id="newFlaw">
                            <button type="button" class="input-group-text" onclick="addNewFlaw()">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                                    class="bi bi-box-arrow-in-right" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd"
                                        d="M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0v-2z" />
                                    <path fill-rule="evenodd"
                                        d="M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z" />
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div v-if="modal == 'Equipamentos'" id="modalBody" class="modal-body">
                        <div id="itemList">
                            <div class="listedItem" v-for="(item, index) in selectedCharacter.equipmentArray">
                                {{ item.name }} : <input type="number"
                                    v-model="selectedCharacter.equipmentArray[index].quantity">
                            </div>
                        </div>
                        <button type="button" class="btn btn-secondary block primaryButton"
                            @click="handleModalExhibition('Adicionar Equipamento', false)">
                            Adicionar Equipamento
                        </button>
                    </div>
                    <div v-if="modal == 'Adicionar Equipamento'" id="modalBody" class="modal-body">
                        <div id="addItemList">
                            <div class="listedItem" v-for="item in allSavedItems">
                                {{ item.name }}

                                <button type="button" class="btn btn-secondary block primaryButton"
                                    @click="addItemToCharacter(item)">+</button>

                                <button @click="deleteItemFromDatabase(item.itemId)" class="deleter">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                                        class="bi bi-trash2-fill" viewBox="0 0 16 16">
                                        <path
                                            d="M2.037 3.225A.703.703 0 0 1 2 3c0-1.105 2.686-2 6-2s6 .895 6 2a.702.702 0 0 1-.037.225l-1.684 10.104A2 2 0 0 1 10.305 15H5.694a2 2 0 0 1-1.973-1.671L2.037 3.225zm9.89-.69C10.966 2.214 9.578 2 8 2c-1.58 0-2.968.215-3.926.534-.477.16-.795.327-.975.466.18.14.498.307.975.466C5.032 3.786 6.42 4 8 4s2.967-.215 3.926-.534c.477-.16.795-.327.975-.466-.18-.14-.498-.307-.975-.466z" />
                                    </svg>
                                </button>

                            </div>
                        </div>
                        <button type="button" class="btn btn-secondary block primaryButton"
                            @click="handleModalExhibition('Equipamentos', false)">
                            Voltar
                        </button>
                        <button type="button" class="btn btn-secondary block primaryButton"
                            @click="handleModalExhibition('Adicionar Novo Equipamento', false)">
                            Adicionar Novo Equipamento
                        </button>
                    </div>
                    <div v-if="modal == 'Adicionar Novo Equipamento'" id="modalBody" class="modal-body">
                        <div class="newItem">
                            <input placeholder="Nome do Item" type="text" id="newItemName">
                            <select class="form-select" id="newItemType">
                                <option value="">Selecione um Tipo</option>
                                <option v-for="type in itemsTypes" :value="type">{{ otherTranslations(type) }}</option>
                            </select>
                            <select class="form-select" id="newItemRarity">
                                <option value="">Selecione uma Raridade</option>
                                <option v-for="rarity in itemsRarities" :value="rarity">{{ otherTranslations(rarity) }}
                                </option>
                            </select>
                            <input placeholder="Peso do Item" type="text" id="newItemWeight">
                            <input placeholder="Valor do Item" type="text" id="newItemValue">
                            <textarea placeholder="Descrição" class="block" id="newItemDescription"></textarea>
                            <button type="button" class="btn btn-secondary block primaryButton"
                                @click="handleModalExhibition('Adicionar Equipamento', false)">
                                Voltar
                            </button>
                            <button type="button" class="btn btn-secondary block primaryButton"
                                @click="addNewItem()">Adicionar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="../../node_modules/vue/dist/vue.js"></script>
    <script src="../js/popper.min.js"></script>
    <script src="../js/bootstrap.bundle.min.js"></script>
    <script src="../js/app.js"></script>
    <script src="../js/sheetOperations.js"></script>
    <script src="../js/itemsOperations.js"></script>
</body>

</html>